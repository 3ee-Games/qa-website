import{S as ee,i as te,s as oe,l as Z,g as N,n as ce,o as Y,p as ue,q as K,d as l,I as ie,a0 as fe,v as pe,e as _,t as S,k as A,c as b,a as v,h as w,m as I,b as y,K as i,a1 as D,L as J,G as ae,E as H,w as ne,x as se,y as re,B as le,J as $,Z as de}from"../chunks/index-506650de.js";import{g as Q}from"../chunks/navigation-0e6511d1.js";import{p as he}from"../chunks/stores-2d3cdd9a.js";import{a as x}from"../chunks/accountStore-eb19c2b9.js";import{C as me}from"../chunks/Captcha-490b9974.js";import{s as F}from"../chunks/messagingStore-9f4ca57a.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/index-10b1f58e.js";function _e(h){let e,t,o,a,u,n,c,s,f,d,m,r,p,E,T;function P(C,k){return typeof C[7]=="undefined"?ve:ye}let U=P(h)(h),g=typeof h[7]=="undefined"&&ke(h);function O(C,k){return C[2]?Ce:Ee}let M=O(h),j=M(h);return{c(){U.c(),e=A(),t=_("form"),g&&g.c(),o=A(),a=_("label"),u=S("subject:"),n=A(),c=_("input"),s=A(),f=_("label"),d=S("message:"),m=A(),r=_("textarea"),p=A(),j.c(),this.h()},l(C){U.l(C),e=I(C),t=b(C,"FORM",{class:!0});var k=v(t);g&&g.l(k),o=I(k),a=b(k,"LABEL",{for:!0});var G=v(a);u=w(G,"subject:"),G.forEach(l),n=I(k),c=b(k,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0}),s=I(k),f=b(k,"LABEL",{for:!0});var R=v(f);d=w(R,"message:"),R.forEach(l),m=I(k),r=b(k,"TEXTAREA",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),v(r).forEach(l),p=I(k),j.l(k),k.forEach(l),this.h()},h(){y(a,"for","subject"),y(c,"name","subject"),y(c,"id","subject"),y(c,"placeholder","what type of problem?"),y(c,"type","text"),c.required="true",y(f,"for","body"),y(r,"name","body"),y(r,"id","body"),y(r,"placeholder","How can we assist you?"),y(r,"type","text"),r.required="true",y(r,"class","svelte-13evnbk"),y(t,"class","svelte-13evnbk")},m(C,k){U.m(C,k),N(C,e,k),N(C,t,k),g&&g.m(t,null),i(t,o),i(t,a),i(a,u),i(t,n),i(t,c),D(c,h[5]),i(t,s),i(t,f),i(f,d),i(t,m),i(t,r),D(r,h[6]),i(t,p),j.m(t,null),E||(T=[J(c,"input",h[13]),J(r,"input",h[14]),J(t,"submit",h[10])],E=!0)},p(C,k){U.p(C,k),typeof C[7]=="undefined"&&g.p(C,k),k&32&&c.value!==C[5]&&D(c,C[5]),k&64&&D(r,C[6]),M===(M=O(C))&&j?j.p(C,k):(j.d(1),j=M(C),j&&(j.c(),j.m(t,null)))},i:H,o:H,d(C){U.d(C),C&&l(e),C&&l(t),g&&g.d(),j.d(),E=!1,ae(T)}}}function be(h){let e,t;return e=new me({props:{game:h[1]}}),{c(){ne(e.$$.fragment)},l(o){se(e.$$.fragment,o)},m(o,a){re(e,o,a),t=!0},p(o,a){const u={};a&2&&(u.game=o[1]),e.$set(u)},i(o){t||(K(e.$$.fragment,o),t=!0)},o(o){Y(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function ye(h){let e,t,o,a,u,n,c,s,f,d,m,r;return{c(){e=_("p"),t=S("Greetings, "),o=_("span"),a=S(h[8]),u=S(`. Submit a support request. You'll
			be able to track the status and edit your support request.`),n=A(),c=_("p"),s=_("ion-icon"),f=S(` Stop by our
			`),d=_("a"),m=S("Discord server"),r=S(" for support from our community."),this.h()},l(p){e=b(p,"P",{});var E=v(e);t=w(E,"Greetings, "),o=b(E,"SPAN",{class:!0});var T=v(o);a=w(T,h[8]),T.forEach(l),u=w(E,`. Submit a support request. You'll
			be able to track the status and edit your support request.`),E.forEach(l),n=I(p),c=b(p,"P",{});var P=v(c);s=b(P,"ION-ICON",{class:!0,name:!0}),v(s).forEach(l),f=w(P,` Stop by our
			`),d=b(P,"A",{href:!0});var q=v(d);m=w(q,"Discord server"),q.forEach(l),r=w(P," for support from our community."),P.forEach(l),this.h()},h(){y(o,"class","highlight accent"),$(s,"class","icon logo-discord svelte-13evnbk"),$(s,"name","logo-discord"),y(d,"href","/account/conduct")},m(p,E){N(p,e,E),i(e,t),i(e,o),i(o,a),i(e,u),N(p,n,E),N(p,c,E),i(c,s),i(c,f),i(c,d),i(d,m),i(c,r)},p:H,d(p){p&&l(e),p&&l(n),p&&l(c)}}}function ve(h){let e,t,o,a,u,n,c,s,f,d,m,r,p,E,T,P,q,U;return{c(){e=_("p"),t=S("Greetings, "),o=_("span"),a=S("traveler"),u=S(`. If you have 3Games account,
			`),n=_("a"),c=S("login"),s=S(`
			to track, modify your support requests, and avoid playing a captcha. If you do not have an account,
			you can
			`),f=_("a"),d=S("create one now"),m=S("."),r=A(),p=_("p"),E=_("ion-icon"),T=S(` Stop by our
			`),P=_("a"),q=S("Discord server"),U=S(" for support from our community."),this.h()},l(g){e=b(g,"P",{});var O=v(e);t=w(O,"Greetings, "),o=b(O,"SPAN",{class:!0});var M=v(o);a=w(M,"traveler"),M.forEach(l),u=w(O,`. If you have 3Games account,
			`),n=b(O,"A",{href:!0});var j=v(n);c=w(j,"login"),j.forEach(l),s=w(O,`
			to track, modify your support requests, and avoid playing a captcha. If you do not have an account,
			you can
			`),f=b(O,"A",{href:!0});var C=v(f);d=w(C,"create one now"),C.forEach(l),m=w(O,"."),O.forEach(l),r=I(g),p=b(g,"P",{});var k=v(p);E=b(k,"ION-ICON",{class:!0,name:!0}),v(E).forEach(l),T=w(k,` Stop by our
			`),P=b(k,"A",{href:!0});var G=v(P);q=w(G,"Discord server"),G.forEach(l),U=w(k," for support from our community."),k.forEach(l),this.h()},h(){y(o,"class","highlight accent"),y(n,"href","/account/login"),y(f,"href","/account/create"),$(E,"class","icon logo-discord svelte-13evnbk"),$(E,"name","logo-discord"),y(P,"href","/account/conduct")},m(g,O){N(g,e,O),i(e,t),i(e,o),i(o,a),i(e,u),i(e,n),i(n,c),i(e,s),i(e,f),i(f,d),i(e,m),N(g,r,O),N(g,p,O),i(p,E),i(p,T),i(p,P),i(P,q),i(p,U)},p:H,d(g){g&&l(e),g&&l(r),g&&l(p)}}}function ke(h){let e,t,o,a,u,n,c,s,f,d,m;return{c(){e=_("label"),t=S("your email address:"),o=A(),a=_("input"),u=A(),n=_("label"),c=S("name:"),s=A(),f=_("input"),this.h()},l(r){e=b(r,"LABEL",{for:!0});var p=v(e);t=w(p,"your email address:"),p.forEach(l),o=I(r),a=b(r,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0}),u=I(r),n=b(r,"LABEL",{for:!0});var E=v(n);c=w(E,"name:"),E.forEach(l),s=I(r),f=b(r,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0}),this.h()},h(){y(e,"for","email"),y(a,"name","email"),y(a,"id","email"),y(a,"placeholder","enter your email address"),y(a,"type","email"),a.required="true",y(n,"for","name"),y(f,"name","name"),y(f,"id","name"),y(f,"placeholder","enter your name"),y(f,"type","text"),f.required="true"},m(r,p){N(r,e,p),i(e,t),N(r,o,p),N(r,a,p),D(a,h[3]),N(r,u,p),N(r,n,p),i(n,c),N(r,s,p),N(r,f,p),D(f,h[4]),d||(m=[J(a,"input",h[11]),J(f,"input",h[12])],d=!0)},p(r,p){p&8&&a.value!==r[3]&&D(a,r[3]),p&16&&f.value!==r[4]&&D(f,r[4])},d(r){r&&l(e),r&&l(o),r&&l(a),r&&l(u),r&&l(n),r&&l(s),r&&l(f),d=!1,ae(m)}}}function Ee(h){let e,t,o;function a(c,s){return c[9]?Ne:ge}let n=a(h)(h);return{c(){e=_("button"),t=_("ion-icon"),o=A(),n.c(),this.h()},l(c){e=b(c,"BUTTON",{class:!0});var s=v(e);t=b(s,"ION-ICON",{class:!0,name:!0}),v(t).forEach(l),o=I(s),n.l(s),s.forEach(l),this.h()},h(){$(t,"class","icon svelte-13evnbk"),$(t,"name","send-sharp"),y(e,"class","svelte-13evnbk")},m(c,s){N(c,e,s),i(e,t),i(e,o),n.m(e,null)},p:H,d(c){c&&l(e),n.d()}}}function Ce(h){let e,t,o,a,u,n,c,s,f;return{c(){e=_("p"),t=_("ion-icon"),o=S(" The captcha was not correct. Please try again."),a=A(),u=_("button"),n=_("ion-icon"),c=A(),s=_("span"),f=S("Try again"),this.h()},l(d){e=b(d,"P",{class:!0});var m=v(e);t=b(m,"ION-ICON",{class:!0,name:!0}),v(t).forEach(l),o=w(m," The captcha was not correct. Please try again."),m.forEach(l),a=I(d),u=b(d,"BUTTON",{class:!0});var r=v(u);n=b(r,"ION-ICON",{class:!0,name:!0}),v(n).forEach(l),c=I(r),s=b(r,"SPAN",{});var p=v(s);f=w(p,"Try again"),p.forEach(l),r.forEach(l),this.h()},h(){$(t,"class","shield-x"),$(t,"name","shield-x"),y(e,"class","error"),$(n,"class","icon svelte-13evnbk"),$(n,"name","rocket-sharp"),y(u,"class","alert svelte-13evnbk")},m(d,m){N(d,e,m),i(e,t),i(e,o),N(d,a,m),N(d,u,m),i(u,n),i(u,c),i(u,s),i(s,f)},p:H,d(d){d&&l(e),d&&l(a),d&&l(u)}}}function ge(h){let e,t;return{c(){e=_("span"),t=S("Submit")},l(o){e=b(o,"SPAN",{});var a=v(e);t=w(a,"Submit"),a.forEach(l)},m(o,a){N(o,e,a),i(e,t)},d(o){o&&l(e)}}}function Ne(h){let e,t;return{c(){e=_("span"),t=S("Update")},l(o){e=b(o,"SPAN",{});var a=v(e);t=w(a,"Update"),a.forEach(l)},m(o,a){N(o,e,a),i(e,t)},d(o){o&&l(e)}}}function Se(h){let e,t,o,a;const u=[be,_e],n=[];function c(s,f){return s[0]&&typeof s[7]=="undefined"?0:1}return e=c(h),t=n[e]=u[e](h),{c(){t.c(),o=Z()},l(s){t.l(s),o=Z()},m(s,f){n[e].m(s,f),N(s,o,f),a=!0},p(s,[f]){let d=e;e=c(s),e===d?n[e].p(s,f):(ce(),Y(n[d],1,1,()=>{n[d]=null}),ue(),t=n[e],t?t.p(s,f):(t=n[e]=u[e](s),t.c()),K(t,1),t.m(o.parentNode,o))},i(s){a||(K(t),a=!0)},o(s){Y(t),a=!1},d(s){n[e].d(s),s&&l(o)}}}function we(h,e,t){let o;ie(h,he,L=>t(19,o=L));let a;x.useLocalStorage(),x.subscribe(L=>{a=L});let u;F.subscribe(L=>{u=L});const n=a.token,c=a.username;let s=!1,f=null,d=!1;const m=o.url.searchParams.has("edit")&&typeof n!="undefined",r=o.url.searchParams.has("undo")&&typeof n!="undefined";let p="",E="",T=(m||r)&&typeof u.subject=="string"?u.subject:"",P=(m||r)&&typeof u.body=="string"?u.body:"",q={},U={"Content-Type":"application/json","Access-Control-Allow-Origin":"*"};typeof n!="undefined"&&(U.Authorization="Token "+n);const g=fe();pe(async()=>{const L=await fetch("http://localhost:8000/captcha/start/",{method:"GET",mode:"cors"});t(1,f=await L.json()),window.addEventListener("message",function(z){const V=z.data,B=JSON.parse(V);t(0,s=!1),g("onCaptchaEvent",{showCaptcha:s}),B.message==="onPlayCaptchaEnd"&&B.success?O():M()})});async function O(){t(2,d=!1);const z=await(await fetch("http://localhost:8000/account/contact/",{method:"POST",headers:U,mode:"cors",body:JSON.stringify(q)})).json();typeof z!="undefined"&&typeof z.created!="undefined"&&(F.update(V=>z),g("onMessageCreated"))}function M(){t(2,d=!0)}async function j(L){L.preventDefault();const z=new FormData(L.target);if(q=Object.fromEntries(z.entries()),!s&&typeof n=="undefined"){t(0,s=!0),g("onCaptchaEvent",{showCaptcha:s});return}if(m){const W=`http://localhost:8000/account/contact/${u.id}/`,X=await(await fetch(W,{method:"PATCH",headers:U,mode:"cors",body:JSON.stringify(q)})).json();typeof X.updated!="undefined"&&(F.update(Ue=>X),g("onMessageUpdated"));return}const B=await(await fetch("http://localhost:8000/account/contact/",{method:"POST",headers:U,mode:"cors",body:JSON.stringify(q)})).json();if(typeof B!="undefined"&&typeof B.created!="undefined"){if(F.update(W=>B),r){g("onMessageUpdated");return}g("onMessageCreated")}}function C(){p=this.value,t(3,p)}function k(){E=this.value,t(4,E)}function G(){T=this.value,t(5,T)}function R(){P=this.value,t(6,P)}return[s,f,d,p,E,T,P,n,c,m,j,C,k,G,R]}class Pe extends ee{constructor(e){super(),te(this,e,we,Se,oe,{})}}function Oe(h){let e,t;return{c(){e=_("h1"),t=S("Contact Us")},l(o){e=b(o,"H1",{});var a=v(e);t=w(a,"Contact Us"),a.forEach(l)},m(o,a){N(o,e,a),i(e,t)},d(o){o&&l(e)}}}function Ae(h){let e,t,o,a,u;return{c(){e=_("h1"),t=S("Are you human?"),o=A(),a=_("h2"),u=S("Please solve the Captcha Puzzle to continue."),this.h()},l(n){e=b(n,"H1",{});var c=v(e);t=w(c,"Are you human?"),c.forEach(l),o=I(n),a=b(n,"H2",{class:!0});var s=v(a);u=w(s,"Please solve the Captcha Puzzle to continue."),s.forEach(l),this.h()},h(){y(a,"class","svelte-1615z4m")},m(n,c){N(n,e,c),i(e,t),N(n,o,c),N(n,a,c),i(a,u)},d(n){n&&l(e),n&&l(o),n&&l(a)}}}function Ie(h){let e,t,o,a,u,n,c;function s(m,r){return m[0]?Ae:Oe}let f=s(h),d=f(h);return n=new Pe({}),n.$on("onCaptchaEvent",h[1]),n.$on("onMessageUpdated",h[3]),n.$on("onMessageCreated",h[2]),{c(){e=A(),t=_("section"),o=_("div"),d.c(),a=A(),u=_("article"),ne(n.$$.fragment),this.h()},l(m){de('[data-svelte="svelte-pt07nh"]',document.head).forEach(l),e=I(m),t=b(m,"SECTION",{class:!0});var p=v(t);o=b(p,"DIV",{class:!0});var E=v(o);d.l(E),a=I(E),u=b(E,"ARTICLE",{class:!0});var T=v(u);se(n.$$.fragment,T),T.forEach(l),E.forEach(l),p.forEach(l),this.h()},h(){document.title="Welcome to 3Games | Contact",y(u,"class","svelte-1615z4m"),y(o,"class","content svelte-1615z4m"),y(t,"class","background")},m(m,r){N(m,e,r),N(m,t,r),i(t,o),d.m(o,null),i(o,a),i(o,u),re(n,u,null),c=!0},p(m,[r]){f!==(f=s(m))&&(d.d(1),d=f(m),d&&(d.c(),d.m(o,a)))},i(m){c||(K(n.$$.fragment,m),c=!0)},o(m){Y(n.$$.fragment,m),c=!1},d(m){m&&l(e),m&&l(t),d.d(),le(n)}}}const He=!1;function Te(h,e,t){let o,a=!1;function u(s){t(4,a=s.detail.showCaptcha)}function n(s){Q("/account/messages/response")}function c(s){Q("/account/messages/response#heading-message")}return h.$$.update=()=>{h.$$.dirty&16&&t(0,o=a)},[o,u,n,c,a]}class Je extends ee{constructor(e){super(),te(this,e,Te,Ie,oe,{})}}export{Je as default,He as prerender};
