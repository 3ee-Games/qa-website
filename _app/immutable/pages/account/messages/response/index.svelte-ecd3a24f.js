import{S as ae,i as re,s as ie,e as _,k as I,t as y,c as m,m as T,a as v,h as b,d as r,b as k,g as N,L as c,j as ce,K as V,M as ee,E as B,n as ue,o as W,p as fe,q as z,a0 as de,v as pe,w as F,x as he,y as Q,B as X,U as _e,Z as me}from"../../../../chunks/index-a28671a4.js";import{s as te}from"../../../../chunks/svgMapper-79035b16.js";import{a as x}from"../../../../chunks/accountStore-ceb4f84f.js";import{s as L}from"../../../../chunks/messagingStore-609b3df4.js";import{g as se}from"../../../../chunks/navigation-0e6511d1.js";import"../../../../chunks/index-fe8e9bb0.js";import"../../../../chunks/singletons-d1fb5791.js";function ve(d){let e,t,n,s,l;return{c(){e=_("h1"),t=y("You received a response"),n=I(),s=_("h3"),l=y(d[7]),this.h()},l(o){e=m(o,"H1",{});var u=v(e);t=b(u,"You received a response"),u.forEach(r),n=T(o),s=m(o,"H3",{class:!0});var i=v(s);l=b(i,d[7]),i.forEach(r),this.h()},h(){k(s,"class","highlight")},m(o,u){N(o,e,u),c(e,t),N(o,n,u),N(o,s,u),c(s,l)},p:B,d(o){o&&r(e),o&&r(n),o&&r(s)}}}function ge(d){let e,t,n,s,l;return{c(){e=_("h1"),t=y("Your message has been sent"),n=I(),s=_("h3"),l=y(d[7]),this.h()},l(o){e=m(o,"H1",{});var u=v(e);t=b(u,"Your message has been sent"),u.forEach(r),n=T(o),s=m(o,"H3",{class:!0});var i=v(s);l=b(i,d[7]),i.forEach(r),this.h()},h(){k(s,"class","highlight")},m(o,u){N(o,e,u),c(e,t),N(o,n,u),N(o,s,u),c(s,l)},p:B,d(o){o&&r(e),o&&r(n),o&&r(s)}}}function ye(d){let e,t,n;var s=te.Messenger;function l(o){return{}}return s&&(t=new s(l())),{c(){e=_("div"),t&&F(t.$$.fragment),this.h()},l(o){e=m(o,"DIV",{class:!0});var u=v(e);t&&he(t.$$.fragment,u),u.forEach(r),this.h()},h(){k(e,"class","column double")},m(o,u){N(o,e,u),t&&Q(t,e,null),n=!0},p(o,u){if(s!==(s=te.Messenger)){if(t){ue();const i=t;W(i.$$.fragment,1,0,()=>{X(i,1)}),fe()}s?(t=new s(l()),F(t.$$.fragment),z(t.$$.fragment,1),Q(t,e,null)):t=null}},i(o){n||(t&&z(t.$$.fragment,o),n=!0)},o(o){t&&W(t.$$.fragment,o),n=!1},d(o){o&&r(e),t&&X(t)}}}function be(d){let e,t,n;return{c(){e=_("div"),t=_("img"),this.h()},l(s){e=m(s,"DIV",{class:!0});var l=v(e);t=m(l,"IMG",{src:!0,alt:!0}),l.forEach(r),this.h()},h(){_e(t.src,n="/pngout.png")||k(t,"src",n),k(t,"alt","The universe of 3Games, showing three planets."),k(e,"class","column half svelte-1c55scn")},m(s,l){N(s,e,l),c(e,t)},p:B,i:B,o:B,d(s){s&&r(e)}}}function Ee(d){let e,t,n,s,l,o,u,i,f=d[0].response+"",a,h;return{c(){e=_("p"),t=y("Hail "),n=_("span"),s=y(d[5]),l=y(`! I have a message from the
							support team addressed to you. The message is a response to your query. It says:`),o=I(),u=_("p"),i=y('"'),a=y(f),h=y('"'),this.h()},l(p){e=m(p,"P",{});var E=v(e);t=b(E,"Hail "),n=m(E,"SPAN",{class:!0});var R=v(n);s=b(R,d[5]),R.forEach(r),l=b(E,`! I have a message from the
							support team addressed to you. The message is a response to your query. It says:`),E.forEach(r),o=T(p),u=m(p,"P",{});var O=v(u);i=b(O,'"'),a=b(O,f),h=b(O,'"'),O.forEach(r),this.h()},h(){k(n,"class","highlight accent")},m(p,E){N(p,e,E),c(e,t),c(e,n),c(n,s),c(e,l),N(p,o,E),N(p,u,E),c(u,i),c(u,a),c(u,h)},p(p,E){E&1&&f!==(f=p[0].response+"")&&ce(a,f)},d(p){p&&r(e),p&&r(o),p&&r(u)}}}function ke(d){let e,t,n,s,l,o,u,i;return{c(){e=_("p"),t=y("Greetings "),n=_("span"),s=y(d[5]),l=y(`. The robots are trying to
							figure out which planet to route your query. Expect a response within
							`),o=_("span"),u=y("24 to 48 hours"),i=y("."),this.h()},l(f){e=m(f,"P",{});var a=v(e);t=b(a,"Greetings "),n=m(a,"SPAN",{class:!0});var h=v(n);s=b(h,d[5]),h.forEach(r),l=b(a,`. The robots are trying to
							figure out which planet to route your query. Expect a response within
							`),o=m(a,"SPAN",{class:!0});var p=v(o);u=b(p,"24 to 48 hours"),p.forEach(r),i=b(a,"."),a.forEach(r),this.h()},h(){k(n,"class","highlight accent"),k(o,"class","highlight")},m(f,a){N(f,e,a),c(e,t),c(e,n),c(n,s),c(e,l),c(e,o),c(o,u),c(e,i)},p:B,d(f){f&&r(e)}}}function Ne(d){let e,t,n,s,l,o,u,i,f,a,h,p,E,R,O;return{c(){e=_("p"),t=y("Thanks again for contacting support. Any concerns or additional questions?"),n=I(),s=_("div"),l=_("button"),o=_("ion-icon"),u=I(),i=_("span"),f=y("Contact"),a=I(),h=_("button"),p=_("ion-icon"),E=I(),R=_("span"),O=y("Discord"),this.h()},l(D){e=m(D,"P",{});var U=v(e);t=b(U,"Thanks again for contacting support. Any concerns or additional questions?"),U.forEach(r),n=T(D),s=m(D,"DIV",{class:!0});var S=v(s);l=m(S,"BUTTON",{class:!0});var Y=v(l);o=m(Y,"ION-ICON",{class:!0,name:!0}),v(o).forEach(r),u=T(Y),i=m(Y,"SPAN",{});var j=v(i);f=b(j,"Contact"),j.forEach(r),Y.forEach(r),a=T(S),h=m(S,"BUTTON",{class:!0});var w=v(h);p=m(w,"ION-ICON",{class:!0,name:!0}),v(p).forEach(r),E=T(w),R=m(w,"SPAN",{});var q=v(R);O=b(q,"Discord"),q.forEach(r),w.forEach(r),S.forEach(r),this.h()},h(){V(o,"class","icon svelte-1c55scn"),V(o,"name","mail"),k(l,"class","svelte-1c55scn"),V(p,"class","icon svelte-1c55scn"),V(p,"name","logo-discord"),k(h,"class","svelte-1c55scn"),k(s,"class","action-buttons svelte-1c55scn")},m(D,U){N(D,e,U),c(e,t),N(D,n,U),N(D,s,U),c(s,l),c(l,o),c(l,u),c(l,i),c(i,f),c(s,a),c(s,h),c(h,p),c(h,E),c(h,R),c(R,O)},d(D){D&&r(e),D&&r(n),D&&r(s)}}}function De(d){let e,t,n,s,l,o,u,i,f;return{c(){e=_("p"),t=y("Thanks again for contacting support. While you wait, stop by our Discord server."),n=I(),s=_("div"),l=_("button"),o=_("ion-icon"),u=I(),i=_("span"),f=y("Discord"),this.h()},l(a){e=m(a,"P",{});var h=v(e);t=b(h,"Thanks again for contacting support. While you wait, stop by our Discord server."),h.forEach(r),n=T(a),s=m(a,"DIV",{class:!0});var p=v(s);l=m(p,"BUTTON",{class:!0});var E=v(l);o=m(E,"ION-ICON",{class:!0,name:!0}),v(o).forEach(r),u=T(E),i=m(E,"SPAN",{});var R=v(i);f=b(R,"Discord"),R.forEach(r),E.forEach(r),p.forEach(r),this.h()},h(){V(o,"class","icon svelte-1c55scn"),V(o,"name","logo-discord"),k(l,"class","svelte-1c55scn"),k(s,"class","action-buttons svelte-1c55scn")},m(a,h){N(a,e,h),c(e,t),N(a,n,h),N(a,s,h),c(s,l),c(l,o),c(l,u),c(l,i),c(i,f)},d(a){a&&r(e),a&&r(n),a&&r(s)}}}function ne(d){var q,G;let e,t,n,s,l,o,u,i,f,a,h,p,E,R,O,D,U=d[0].body+"",S,Y,j,w=((G=(q=d[0])==null?void 0:q.status)==null?void 0:G.status_type)===0&&oe(d);return{c(){e=_("hr"),t=I(),n=_("div"),s=_("h2"),l=y("Your original message"),o=I(),u=_("h3"),i=y(d[6]),f=I(),a=_("p"),h=_("span"),p=y(d[5]),E=y(", this is the message you sent us:"),R=I(),O=_("p"),D=y('"'),S=y(U),Y=y('"'),j=I(),w&&w.c(),this.h()},l(P){e=m(P,"HR",{}),t=T(P),n=m(P,"DIV",{class:!0});var $=v(n);s=m($,"H2",{id:!0});var M=v(s);l=b(M,"Your original message"),M.forEach(r),o=T($),u=m($,"H3",{class:!0});var g=v(u);i=b(g,d[6]),g.forEach(r),f=T($),a=m($,"P",{});var H=v(a);h=m(H,"SPAN",{class:!0});var A=v(h);p=b(A,d[5]),A.forEach(r),E=b(H,", this is the message you sent us:"),H.forEach(r),R=T($),O=m($,"P",{});var C=v(O);D=b(C,'"'),S=b(C,U),Y=b(C,'"'),C.forEach(r),j=T($),w&&w.l($),$.forEach(r),this.h()},h(){k(s,"id","heading-message"),k(u,"class","highlight"),k(h,"class","highlight accent"),k(n,"class","author-message svelte-1c55scn")},m(P,$){N(P,e,$),N(P,t,$),N(P,n,$),c(n,s),c(s,l),c(n,o),c(n,u),c(u,i),c(n,f),c(n,a),c(a,h),c(h,p),c(a,E),c(n,R),c(n,O),c(O,D),c(O,S),c(O,Y),c(n,j),w&&w.m(n,null)},p(P,$){var M,g;$&1&&U!==(U=P[0].body+"")&&ce(S,U),((g=(M=P[0])==null?void 0:M.status)==null?void 0:g.status_type)===0?w?w.p(P,$):(w=oe(P),w.c(),w.m(n,null)):w&&(w.d(1),w=null)},d(P){P&&r(e),P&&r(t),P&&r(n),w&&w.d()}}}function oe(d){let e,t,n;function s(h,p){return h[2]?we:$e}let l=s(d),o=l(d);function u(h,p){return h[2]?Te:Ie}let i=u(d),f=i(d),a=!d[2]&&le(d);return{c(){o.c(),e=I(),t=_("div"),f.c(),n=I(),a&&a.c(),this.h()},l(h){o.l(h),e=T(h),t=m(h,"DIV",{class:!0});var p=v(t);f.l(p),n=T(p),a&&a.l(p),p.forEach(r),this.h()},h(){k(t,"class","action-buttons svelte-1c55scn")},m(h,p){o.m(h,p),N(h,e,p),N(h,t,p),f.m(t,null),c(t,n),a&&a.m(t,null)},p(h,p){l!==(l=s(h))&&(o.d(1),o=l(h),o&&(o.c(),o.m(e.parentNode,e))),i===(i=u(h))&&f?f.p(h,p):(f.d(1),f=i(h),f&&(f.c(),f.m(t,n))),h[2]?a&&(a.d(1),a=null):a?a.p(h,p):(a=le(h),a.c(),a.m(t,null))},d(h){o.d(h),h&&r(e),h&&r(t),f.d(),a&&a.d()}}}function $e(d){let e,t;return{c(){e=_("h3"),t=y("Would you like to modify your query?"),this.h()},l(n){e=m(n,"H3",{class:!0});var s=v(e);t=b(s,"Would you like to modify your query?"),s.forEach(r),this.h()},h(){k(e,"class","highlight large")},m(n,s){N(n,e,s),c(e,t)},d(n){n&&r(e)}}}function we(d){let e,t;return{c(){e=_("h3"),t=y("Your message was deleted."),this.h()},l(n){e=m(n,"H3",{class:!0});var s=v(e);t=b(s,"Your message was deleted."),s.forEach(r),this.h()},h(){k(e,"class","highlight large")},m(n,s){N(n,e,s),c(e,t)},d(n){n&&r(e)}}}function Ie(d){let e,t,n,s,l,o,u;return{c(){e=_("button"),t=_("ion-icon"),n=I(),s=_("span"),l=y("Edit"),this.h()},l(i){e=m(i,"BUTTON",{class:!0});var f=v(e);t=m(f,"ION-ICON",{class:!0,name:!0}),v(t).forEach(r),n=T(f),s=m(f,"SPAN",{});var a=v(s);l=b(a,"Edit"),a.forEach(r),f.forEach(r),this.h()},h(){V(t,"class","icon svelte-1c55scn"),V(t,"name","create"),k(e,"class","svelte-1c55scn")},m(i,f){N(i,e,f),c(e,t),c(e,n),c(e,s),c(s,l),o||(u=ee(e,"click",d[3]),o=!0)},p:B,d(i){i&&r(e),o=!1,u()}}}function Te(d){let e,t,n,s,l,o,u;return{c(){e=_("button"),t=_("ion-icon"),n=I(),s=_("span"),l=y("Undo"),this.h()},l(i){e=m(i,"BUTTON",{class:!0});var f=v(e);t=m(f,"ION-ICON",{class:!0,name:!0}),v(t).forEach(r),n=T(f),s=m(f,"SPAN",{});var a=v(s);l=b(a,"Undo"),a.forEach(r),f.forEach(r),this.h()},h(){V(t,"class","icon svelte-1c55scn"),V(t,"name","arrow-undo-circle-outline"),k(e,"class","svelte-1c55scn")},m(i,f){N(i,e,f),c(e,t),c(e,n),c(e,s),c(s,l),o||(u=ee(e,"click",d[3]),o=!0)},p:B,d(i){i&&r(e),o=!1,u()}}}function le(d){let e,t,n,s,l,o,u;return{c(){e=_("button"),t=_("ion-icon"),n=I(),s=_("span"),l=y("Delete"),this.h()},l(i){e=m(i,"BUTTON",{class:!0});var f=v(e);t=m(f,"ION-ICON",{class:!0,name:!0}),v(t).forEach(r),n=T(f),s=m(f,"SPAN",{});var a=v(s);l=b(a,"Delete"),a.forEach(r),f.forEach(r),this.h()},h(){V(t,"class","icon svelte-1c55scn"),V(t,"name","close-circle"),k(e,"class","alert svelte-1c55scn")},m(i,f){N(i,e,f),c(e,t),c(e,n),c(e,s),c(s,l),o||(u=ee(e,"click",d[4]),o=!0)},p:B,d(i){i&&r(e),o=!1,u()}}}function Ae(d){let e,t,n,s,l,o,u,i,f,a,h,p,E;function R(g,H){var A,C;return((C=(A=g[0])==null?void 0:A.status)==null?void 0:C.status_type)===0?ge:ve}let O=R(d),D=O(d);const U=[be,ye],S=[];function Y(g,H){var A,C;return((C=(A=g[0])==null?void 0:A.status)==null?void 0:C.status_type)===0?0:1}u=Y(d),i=S[u]=U[u](d);function j(g,H){var A,C;return((C=(A=g[0])==null?void 0:A.status)==null?void 0:C.status_type)===0?ke:Ee}let w=j(d),q=w(d);function G(g,H){var A,C;return((C=(A=g[0])==null?void 0:A.status)==null?void 0:C.status_type)===0?De:Ne}let P=G(d),$=P(d),M=typeof d[1]!="undefined"&&typeof d[1].token!="undefined"&&ne(d);return{c(){e=_("section"),t=_("article"),n=_("div"),D.c(),s=I(),l=_("div"),o=_("div"),i.c(),f=I(),a=_("div"),q.c(),h=I(),$.c(),p=I(),M&&M.c(),this.h()},l(g){e=m(g,"SECTION",{class:!0});var H=v(e);t=m(H,"ARTICLE",{class:!0});var A=v(t);n=m(A,"DIV",{class:!0});var C=v(n);D.l(C),C.forEach(r),s=T(A),l=m(A,"DIV",{class:!0});var J=v(l);o=m(J,"DIV",{class:!0});var K=v(o);i.l(K),f=T(K),a=m(K,"DIV",{class:!0});var Z=v(a);q.l(Z),h=T(Z),$.l(Z),Z.forEach(r),K.forEach(r),p=T(J),M&&M.l(J),J.forEach(r),A.forEach(r),H.forEach(r),this.h()},h(){k(n,"class","container svelte-1c55scn"),k(a,"class","column"),k(o,"class","row"),k(l,"class","content svelte-1c55scn"),k(t,"class","content svelte-1c55scn"),k(e,"class","background")},m(g,H){N(g,e,H),c(e,t),c(t,n),D.m(n,null),c(t,s),c(t,l),c(l,o),S[u].m(o,null),c(o,f),c(o,a),q.m(a,null),c(a,h),$.m(a,null),c(l,p),M&&M.m(l,null),E=!0},p(g,[H]){O===(O=R(g))&&D?D.p(g,H):(D.d(1),D=O(g),D&&(D.c(),D.m(n,null)));let A=u;u=Y(g),u===A?S[u].p(g,H):(ue(),W(S[A],1,1,()=>{S[A]=null}),fe(),i=S[u],i?i.p(g,H):(i=S[u]=U[u](g),i.c()),z(i,1),i.m(o,f)),w===(w=j(g))&&q?q.p(g,H):(q.d(1),q=w(g),q&&(q.c(),q.m(a,h))),P!==(P=G(g))&&($.d(1),$=P(g),$&&($.c(),$.m(a,null))),typeof g[1]!="undefined"&&typeof g[1].token!="undefined"?M?M.p(g,H):(M=ne(g),M.c(),M.m(l,null)):M&&(M.d(1),M=null)},i(g){E||(z(i),E=!0)},o(g){W(i),E=!1},d(g){g&&r(e),D.d(),S[u].d(),q.d(),$.d(),M&&M.d()}}}function Me(d,e,t){let{messageResponse:n={}}=e,s;x.subscribe(p=>{t(1,s=p)});let l=!1;const o=de();function u(){o("onEditMessage")}function i(p){t(2,l=!0),o("onDeleteMessage")}let f=typeof s.username!="undefined"?s.username:n.name,a=typeof n.created!="undefined"?new Date(n.created).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):null,h=typeof n.updated!="undefined"?new Date(n.updated).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):null;return pe(async()=>{s.unreadMessages>0&&o("onMessageRead")}),d.$$set=p=>{"messageResponse"in p&&t(0,n=p.messageResponse)},[n,s,l,u,i,f,a,h]}class Oe extends ae{constructor(e){super(),re(this,e,Me,Ae,ie,{messageResponse:0})}}function Pe(d){let e,t,n;return t=new Oe({props:{messageResponse:d[0]}}),t.$on("onEditMessage",d[1]),t.$on("onDeleteMessage",d[3]),t.$on("onMessageRead",d[2]),{c(){e=I(),F(t.$$.fragment),this.h()},l(s){me('[data-svelte="svelte-mfrlgm"]',document.head).forEach(r),e=T(s),he(t.$$.fragment,s),this.h()},h(){document.title="A response from 3Games"},m(s,l){N(s,e,l),Q(t,s,l),n=!0},p(s,[l]){const o={};l&1&&(o.messageResponse=s[0]),t.$set(o)},i(s){n||(z(t.$$.fragment,s),n=!0)},o(s){W(t.$$.fragment,s),n=!1},d(s){s&&r(e),X(t,s)}}}function Ce(d,e,t){let n;L.subscribe(i=>{t(0,n=i)});let s;x.subscribe(i=>{s=i});function l(i){if(!n.active){let a=n;a.undo=!0,a.edit=!1,L.set(a),se("/contact");return}let f=n;f.undo=!1,f.edit=!0,L.set(f),se("/contact")}async function o(){const i={"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+s.token},f=`https://3ee.dev/account/contact/${n.id}/`,h=await(await fetch(f,{method:"PATCH",headers:i,mode:"cors",body:JSON.stringify({read:!0})})).json();L.update(E=>h);let p=s;p.unreadMessages=p.unreadMessages-1,x.set(p)}async function u(i){const f={"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+s.token},a=`https://3ee.dev/account/contact/${n.id}/`,p=await(await fetch(a,{method:"PATCH",headers:f,mode:"cors",body:JSON.stringify({active:!1})})).json();L.update(E=>p)}return[n,l,o,u]}class je extends ae{constructor(e){super(),re(this,e,Ce,Pe,ie,{})}}export{je as default};
