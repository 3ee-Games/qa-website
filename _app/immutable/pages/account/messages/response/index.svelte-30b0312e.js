import{S as ie,i as ce,s as ue,e as _,k as j,t as w,c as m,m as I,a as v,h as N,d as l,b as g,g as E,I as c,j as fe,H as U,J as L,E as V,n as de,o as W,p as he,q as J,_ as _e,v as me,w as x,x as pe,y as ee,B as te,R as ve,a0 as be,X as ge}from"../../../../chunks/index-299456bd.js";import{s as oe}from"../../../../chunks/svgMapper-d189972f.js";import{a as se}from"../../../../chunks/accountStore-af10db85.js";import{s as Q}from"../../../../chunks/messagingStore-df35cd50.js";import{g as Z}from"../../../../chunks/navigation-0e6511d1.js";import"../../../../chunks/index-c05afa88.js";import"../../../../chunks/singletons-d1fb5791.js";function ye(h){let e,s,n,t,i;return{c(){e=_("h1"),s=w("You received a response"),n=j(),t=_("h3"),i=w(h[9]),this.h()},l(o){e=m(o,"H1",{});var f=v(e);s=N(f,"You received a response"),f.forEach(l),n=I(o),t=m(o,"H3",{class:!0});var u=v(t);i=N(u,h[9]),u.forEach(l),this.h()},h(){g(t,"class","highlight")},m(o,f){E(o,e,f),c(e,s),E(o,n,f),E(o,t,f),c(t,i)},p:V,d(o){o&&l(e),o&&l(n),o&&l(t)}}}function ke(h){let e,s,n,t,i;return{c(){e=_("h1"),s=w("Your message has been sent"),n=j(),t=_("h3"),i=w(h[9]),this.h()},l(o){e=m(o,"H1",{});var f=v(e);s=N(f,"Your message has been sent"),f.forEach(l),n=I(o),t=m(o,"H3",{class:!0});var u=v(t);i=N(u,h[9]),u.forEach(l),this.h()},h(){g(t,"class","highlight")},m(o,f){E(o,e,f),c(e,s),E(o,n,f),E(o,t,f),c(t,i)},p:V,d(o){o&&l(e),o&&l(n),o&&l(t)}}}function Ee(h){let e,s,n;var t=oe.Messenger;function i(o){return{}}return t&&(s=new t(i())),{c(){e=_("div"),s&&x(s.$$.fragment),this.h()},l(o){e=m(o,"DIV",{class:!0});var f=v(e);s&&pe(s.$$.fragment,f),f.forEach(l),this.h()},h(){g(e,"class","column double")},m(o,f){E(o,e,f),s&&ee(s,e,null),n=!0},p(o,f){if(t!==(t=oe.Messenger)){if(s){de();const u=s;W(u.$$.fragment,1,0,()=>{te(u,1)}),he()}t?(s=new t(i()),x(s.$$.fragment),J(s.$$.fragment,1),ee(s,e,null)):s=null}},i(o){n||(s&&J(s.$$.fragment,o),n=!0)},o(o){s&&W(s.$$.fragment,o),n=!1},d(o){o&&l(e),s&&te(s)}}}function De(h){let e,s,n;return{c(){e=_("div"),s=_("img"),this.h()},l(t){e=m(t,"DIV",{class:!0});var i=v(e);s=m(i,"IMG",{src:!0,alt:!0}),i.forEach(l),this.h()},h(){ve(s.src,n="/pngout.png")||g(s,"src",n),g(s,"alt","The universe of 3Games, showing three planets."),g(e,"class","column half svelte-r4jzse")},m(t,i){E(t,e,i),c(e,s)},p:V,i:V,o:V,d(t){t&&l(e)}}}function we(h){let e,s,n,t,i,o,f,u,r=h[0].response+"",d;return{c(){e=_("p"),s=w("Hail "),n=_("span"),t=w(h[7]),i=w(`! I have a message from the
								support team addressed to you. The message is a response to your query. It says:`),o=j(),f=_("blockquote"),u=_("q"),d=w(r),this.h()},l(a){e=m(a,"P",{});var p=v(e);s=N(p,"Hail "),n=m(p,"SPAN",{class:!0});var D=v(n);t=N(D,h[7]),D.forEach(l),i=N(p,`! I have a message from the
								support team addressed to you. The message is a response to your query. It says:`),p.forEach(l),o=I(a),f=m(a,"BLOCKQUOTE",{class:!0});var k=v(f);u=m(k,"Q",{class:!0});var O=v(u);d=N(O,r),O.forEach(l),k.forEach(l),this.h()},h(){g(n,"class","highlight accent"),g(u,"class","svelte-r4jzse"),g(f,"class","svelte-r4jzse")},m(a,p){E(a,e,p),c(e,s),c(e,n),c(n,t),c(e,i),E(a,o,p),E(a,f,p),c(f,u),c(u,d)},p(a,p){p&1&&r!==(r=a[0].response+"")&&fe(d,r)},d(a){a&&l(e),a&&l(o),a&&l(f)}}}function Ne(h){let e,s,n,t,i,o,f,u;return{c(){e=_("p"),s=w("Greetings "),n=_("span"),t=w(h[7]),i=w(`. The robots are trying to
								figure out which planet to route your query. Expect a response within
								`),o=_("span"),f=w("24 to 48 hours"),u=w("."),this.h()},l(r){e=m(r,"P",{});var d=v(e);s=N(d,"Greetings "),n=m(d,"SPAN",{class:!0});var a=v(n);t=N(a,h[7]),a.forEach(l),i=N(d,`. The robots are trying to
								figure out which planet to route your query. Expect a response within
								`),o=m(d,"SPAN",{class:!0});var p=v(o);f=N(p,"24 to 48 hours"),p.forEach(l),u=N(d,"."),d.forEach(l),this.h()},h(){g(n,"class","highlight accent"),g(o,"class","highlight")},m(r,d){E(r,e,d),c(e,s),c(e,n),c(n,t),c(e,i),c(e,o),c(o,f),c(e,u)},p:V,d(r){r&&l(e)}}}function $e(h){let e,s,n,t,i,o,f,u,r,d,a,p,D,k,O,M,S;return{c(){e=_("p"),s=w("Thanks again for contacting support. Any concerns or additional questions?"),n=j(),t=_("div"),i=_("button"),o=_("ion-icon"),f=j(),u=_("span"),r=w("Contact"),d=j(),a=_("button"),p=_("ion-icon"),D=j(),k=_("span"),O=w("Discord"),this.h()},l(C){e=m(C,"P",{});var A=v(e);s=N(A,"Thanks again for contacting support. Any concerns or additional questions?"),A.forEach(l),n=I(C),t=m(C,"DIV",{class:!0});var $=v(t);i=m($,"BUTTON",{class:!0});var B=v(i);o=m(B,"ION-ICON",{class:!0,name:!0}),v(o).forEach(l),f=I(B),u=m(B,"SPAN",{});var Y=v(u);r=N(Y,"Contact"),Y.forEach(l),B.forEach(l),d=I($),a=m($,"BUTTON",{class:!0});var y=v(a);p=m(y,"ION-ICON",{class:!0,name:!0}),v(p).forEach(l),D=I(y),k=m(y,"SPAN",{});var T=v(k);O=N(T,"Discord"),T.forEach(l),y.forEach(l),$.forEach(l),this.h()},h(){U(o,"class","icon svelte-r4jzse"),U(o,"name","mail"),g(i,"class","svelte-r4jzse"),U(p,"class","icon svelte-r4jzse"),U(p,"name","logo-discord"),g(a,"class","svelte-r4jzse"),g(t,"class","action-buttons svelte-r4jzse")},m(C,A){E(C,e,A),c(e,s),E(C,n,A),E(C,t,A),c(t,i),c(i,o),c(i,f),c(i,u),c(u,r),c(t,d),c(t,a),c(a,p),c(a,D),c(a,k),c(k,O),M||(S=[L(i,"click",h[5]),L(a,"click",h[6])],M=!0)},p:V,d(C){C&&l(e),C&&l(n),C&&l(t),M=!1,be(S)}}}function je(h){let e,s,n,t,i,o,f,u,r,d,a;return{c(){e=_("p"),s=w("Thanks again for contacting support. While you wait, stop by our Discord server."),n=j(),t=_("div"),i=_("button"),o=_("ion-icon"),f=j(),u=_("span"),r=w("Discord"),this.h()},l(p){e=m(p,"P",{});var D=v(e);s=N(D,"Thanks again for contacting support. While you wait, stop by our Discord server."),D.forEach(l),n=I(p),t=m(p,"DIV",{class:!0});var k=v(t);i=m(k,"BUTTON",{class:!0});var O=v(i);o=m(O,"ION-ICON",{class:!0,name:!0}),v(o).forEach(l),f=I(O),u=m(O,"SPAN",{});var M=v(u);r=N(M,"Discord"),M.forEach(l),O.forEach(l),k.forEach(l),this.h()},h(){U(o,"class","icon svelte-r4jzse"),U(o,"name","logo-discord"),g(i,"class","svelte-r4jzse"),g(t,"class","action-buttons svelte-r4jzse")},m(p,D){E(p,e,D),c(e,s),E(p,n,D),E(p,t,D),c(t,i),c(i,o),c(i,f),c(i,u),c(u,r),d||(a=L(i,"click",h[6]),d=!0)},p:V,d(p){p&&l(e),p&&l(n),p&&l(t),d=!1,a()}}}function le(h){var B,Y;let e,s,n,t,i,o,f,u,r,d,a,p,D,k,O,M,S=h[0].body+"",C,A,$=((Y=(B=h[0])==null?void 0:B.status)==null?void 0:Y.status_type)===0&&ae(h);return{c(){e=_("hr"),s=j(),n=_("div"),t=_("h2"),i=w("Your original message"),o=j(),f=_("h3"),u=w(h[8]),r=j(),d=_("p"),a=_("span"),p=w(h[7]),D=w(", this is the message you sent us:"),k=j(),O=_("blockquote"),M=_("q"),C=w(S),A=j(),$&&$.c(),this.h()},l(y){e=m(y,"HR",{}),s=I(y),n=m(y,"DIV",{class:!0});var T=v(n);t=m(T,"H2",{id:!0});var G=v(t);i=N(G,"Your original message"),G.forEach(l),o=I(T),f=m(T,"H3",{class:!0});var P=v(f);u=N(P,h[8]),P.forEach(l),r=I(T),d=m(T,"P",{});var q=v(d);a=m(q,"SPAN",{class:!0});var b=v(a);p=N(b,h[7]),b.forEach(l),D=N(q,", this is the message you sent us:"),q.forEach(l),k=I(T),O=m(T,"BLOCKQUOTE",{class:!0});var R=v(O);M=m(R,"Q",{class:!0});var z=v(M);C=N(z,S),z.forEach(l),R.forEach(l),A=I(T),$&&$.l(T),T.forEach(l),this.h()},h(){g(t,"id","heading-message"),g(f,"class","highlight"),g(a,"class","highlight accent"),g(M,"class","svelte-r4jzse"),g(O,"class","svelte-r4jzse"),g(n,"class","author-message svelte-r4jzse")},m(y,T){E(y,e,T),E(y,s,T),E(y,n,T),c(n,t),c(t,i),c(n,o),c(n,f),c(f,u),c(n,r),c(n,d),c(d,a),c(a,p),c(d,D),c(n,k),c(n,O),c(O,M),c(M,C),c(n,A),$&&$.m(n,null)},p(y,T){var G,P;T&1&&S!==(S=y[0].body+"")&&fe(C,S),((P=(G=y[0])==null?void 0:G.status)==null?void 0:P.status_type)===0?$?$.p(y,T):($=ae(y),$.c(),$.m(n,null)):$&&($.d(1),$=null)},d(y){y&&l(e),y&&l(s),y&&l(n),$&&$.d()}}}function ae(h){let e,s,n;function t(a,p){return a[2]?Te:Ie}let i=t(h),o=i(h);function f(a,p){return a[2]?ze:Oe}let u=f(h),r=u(h),d=!h[2]&&re(h);return{c(){o.c(),e=j(),s=_("div"),r.c(),n=j(),d&&d.c(),this.h()},l(a){o.l(a),e=I(a),s=m(a,"DIV",{class:!0});var p=v(s);r.l(p),n=I(p),d&&d.l(p),p.forEach(l),this.h()},h(){g(s,"class","action-buttons svelte-r4jzse")},m(a,p){o.m(a,p),E(a,e,p),E(a,s,p),r.m(s,null),c(s,n),d&&d.m(s,null)},p(a,p){i!==(i=t(a))&&(o.d(1),o=i(a),o&&(o.c(),o.m(e.parentNode,e))),u===(u=f(a))&&r?r.p(a,p):(r.d(1),r=u(a),r&&(r.c(),r.m(s,n))),a[2]?d&&(d.d(1),d=null):d?d.p(a,p):(d=re(a),d.c(),d.m(s,null))},d(a){o.d(a),a&&l(e),a&&l(s),r.d(),d&&d.d()}}}function Ie(h){let e,s;return{c(){e=_("h3"),s=w("Would you like to modify your query?"),this.h()},l(n){e=m(n,"H3",{class:!0});var t=v(e);s=N(t,"Would you like to modify your query?"),t.forEach(l),this.h()},h(){g(e,"class","highlight large")},m(n,t){E(n,e,t),c(e,s)},d(n){n&&l(e)}}}function Te(h){let e,s;return{c(){e=_("h3"),s=w("Your message was deleted."),this.h()},l(n){e=m(n,"H3",{class:!0});var t=v(e);s=N(t,"Your message was deleted."),t.forEach(l),this.h()},h(){g(e,"class","highlight large")},m(n,t){E(n,e,t),c(e,s)},d(n){n&&l(e)}}}function Oe(h){let e,s,n,t,i,o,f;return{c(){e=_("button"),s=_("ion-icon"),n=j(),t=_("span"),i=w("Edit"),this.h()},l(u){e=m(u,"BUTTON",{class:!0});var r=v(e);s=m(r,"ION-ICON",{class:!0,name:!0}),v(s).forEach(l),n=I(r),t=m(r,"SPAN",{});var d=v(t);i=N(d,"Edit"),d.forEach(l),r.forEach(l),this.h()},h(){U(s,"class","icon svelte-r4jzse"),U(s,"name","create"),g(e,"class","svelte-r4jzse")},m(u,r){E(u,e,r),c(e,s),c(e,n),c(e,t),c(t,i),o||(f=L(e,"click",h[3]),o=!0)},p:V,d(u){u&&l(e),o=!1,f()}}}function ze(h){let e,s,n,t,i,o,f;return{c(){e=_("button"),s=_("ion-icon"),n=j(),t=_("span"),i=w("Undo"),this.h()},l(u){e=m(u,"BUTTON",{class:!0});var r=v(e);s=m(r,"ION-ICON",{class:!0,name:!0}),v(s).forEach(l),n=I(r),t=m(r,"SPAN",{});var d=v(t);i=N(d,"Undo"),d.forEach(l),r.forEach(l),this.h()},h(){U(s,"class","icon svelte-r4jzse"),U(s,"name","arrow-undo-circle-outline"),g(e,"class","svelte-r4jzse")},m(u,r){E(u,e,r),c(e,s),c(e,n),c(e,t),c(t,i),o||(f=L(e,"click",h[3]),o=!0)},p:V,d(u){u&&l(e),o=!1,f()}}}function re(h){let e,s,n,t,i,o,f;return{c(){e=_("button"),s=_("ion-icon"),n=j(),t=_("span"),i=w("Delete"),this.h()},l(u){e=m(u,"BUTTON",{class:!0});var r=v(e);s=m(r,"ION-ICON",{class:!0,name:!0}),v(s).forEach(l),n=I(r),t=m(r,"SPAN",{});var d=v(t);i=N(d,"Delete"),d.forEach(l),r.forEach(l),this.h()},h(){U(s,"class","icon svelte-r4jzse"),U(s,"name","close-circle"),g(e,"class","alert svelte-r4jzse")},m(u,r){E(u,e,r),c(e,s),c(e,n),c(e,t),c(t,i),o||(f=L(e,"click",h[4]),o=!0)},p:V,d(u){u&&l(e),o=!1,f()}}}function Se(h){let e,s,n,t,i,o,f,u,r,d,a,p,D,k;function O(b,R){var z,H;return((H=(z=b[0])==null?void 0:z.status)==null?void 0:H.status_type)===0?ke:ye}let M=O(h),S=M(h);const C=[De,Ee],A=[];function $(b,R){var z,H;return((H=(z=b[0])==null?void 0:z.status)==null?void 0:H.status_type)===0?0:1}u=$(h),r=A[u]=C[u](h);function B(b,R){var z,H;return((H=(z=b[0])==null?void 0:z.status)==null?void 0:H.status_type)===0?Ne:we}let Y=B(h),y=Y(h);function T(b,R){var z,H;return((H=(z=b[0])==null?void 0:z.status)==null?void 0:H.status_type)===0?je:$e}let G=T(h),P=G(h),q=typeof h[1]!="undefined"&&typeof h[1].token!="undefined"&&le(h);return{c(){e=_("section"),s=_("div"),n=_("article"),t=_("div"),S.c(),i=j(),o=_("div"),f=_("div"),r.c(),d=j(),a=_("div"),y.c(),p=j(),P.c(),D=j(),q&&q.c(),this.h()},l(b){e=m(b,"SECTION",{class:!0});var R=v(e);s=m(R,"DIV",{class:!0});var z=v(s);n=m(z,"ARTICLE",{});var H=v(n);t=m(H,"DIV",{class:!0});var ne=v(t);S.l(ne),ne.forEach(l),i=I(H),o=m(H,"DIV",{class:!0});var K=v(o);f=m(K,"DIV",{class:!0});var X=v(f);r.l(X),d=I(X),a=m(X,"DIV",{class:!0});var F=v(a);y.l(F),p=I(F),P.l(F),F.forEach(l),X.forEach(l),D=I(K),q&&q.l(K),K.forEach(l),H.forEach(l),z.forEach(l),R.forEach(l),this.h()},h(){g(t,"class","container svelte-r4jzse"),g(a,"class","column"),g(f,"class","row"),g(o,"class","content svelte-r4jzse"),g(s,"class","content svelte-r4jzse"),g(e,"class","background")},m(b,R){E(b,e,R),c(e,s),c(s,n),c(n,t),S.m(t,null),c(n,i),c(n,o),c(o,f),A[u].m(f,null),c(f,d),c(f,a),y.m(a,null),c(a,p),P.m(a,null),c(o,D),q&&q.m(o,null),k=!0},p(b,[R]){M===(M=O(b))&&S?S.p(b,R):(S.d(1),S=M(b),S&&(S.c(),S.m(t,null)));let z=u;u=$(b),u===z?A[u].p(b,R):(de(),W(A[z],1,1,()=>{A[z]=null}),he(),r=A[u],r?r.p(b,R):(r=A[u]=C[u](b),r.c()),J(r,1),r.m(f,d)),Y===(Y=B(b))&&y?y.p(b,R):(y.d(1),y=Y(b),y&&(y.c(),y.m(a,p))),G===(G=T(b))&&P?P.p(b,R):(P.d(1),P=G(b),P&&(P.c(),P.m(a,null))),typeof b[1]!="undefined"&&typeof b[1].token!="undefined"?q?q.p(b,R):(q=le(b),q.c(),q.m(o,null)):q&&(q.d(1),q=null)},i(b){k||(J(r),k=!0)},o(b){W(r),k=!1},d(b){b&&l(e),S.d(),A[u].d(),y.d(),P.d(),q&&q.d()}}}function qe(h,e,s){let{messageResponse:n={}}=e,t;se.subscribe(k=>{s(1,t=k)});let i=!1;const o=_e();function f(){o("onEditMessage")}function u(k){s(2,i=!0),o("onDeleteMessage")}function r(k){o("onContactSubmit")}function d(k){o("onDiscordSubmit")}let a=typeof t.username!="undefined"?t.username:n.name,p=typeof n.created!="undefined"?new Date(n.created).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):null,D=typeof n.updated!="undefined"?new Date(n.updated).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):null;return me(async()=>{t.unreadMessages>0&&o("onMessageRead")}),h.$$set=k=>{"messageResponse"in k&&s(0,n=k.messageResponse)},[n,t,i,f,u,r,d,a,p,D]}class Ce extends ie{constructor(e){super(),ce(this,e,qe,Se,ue,{messageResponse:0})}}function Ae(h){let e,s,n;return s=new Ce({props:{messageResponse:h[0]}}),s.$on("onEditMessage",h[1]),s.$on("onDeleteMessage",h[3]),s.$on("onMessageRead",h[2]),s.$on("onDiscordSubmit",Me),s.$on("onContactSubmit",h[4]),{c(){e=j(),x(s.$$.fragment),this.h()},l(t){ge('[data-svelte="svelte-mfrlgm"]',document.head).forEach(l),e=I(t),pe(s.$$.fragment,t),this.h()},h(){document.title="A response from 3Games"},m(t,i){E(t,e,i),ee(s,t,i),n=!0},p(t,[i]){const o={};i&1&&(o.messageResponse=t[0]),s.$set(o)},i(t){n||(J(s.$$.fragment,t),n=!0)},o(t){W(s.$$.fragment,t),n=!1},d(t){t&&l(e),te(s,t)}}}function Me(h){typeof window!="undefined"&&window.open("https://discord.gg/3ee","_blank")}function Re(h,e,s){let n;Q.subscribe(r=>{s(0,n=r)});let t;se.subscribe(r=>{t=r});function i(r){if(!n.active){let a=n;a.undo=!0,a.edit=!1,Q.set(a),Z("/contact");return}let d=n;d.undo=!1,d.edit=!0,Q.set(d),Z("/contact")}async function o(){const r={"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+t.token},d=`https://3ee.dev/account/contact/${n.id}/`,p=await(await fetch(d,{method:"PATCH",headers:r,mode:"cors",body:JSON.stringify({read:!0})})).json();Q.update(k=>p);let D=t;D.unreadMessages=D.unreadMessages-1,se.set(D)}async function f(r){const d={"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+t.token},a=`https://3ee.dev/account/contact/${n.id}/`,D=await(await fetch(a,{method:"PATCH",headers:d,mode:"cors",body:JSON.stringify({active:!1})})).json();Q.update(k=>D)}function u(r){Z("/contact")}return[n,i,o,f,u]}class Le extends ie{constructor(e){super(),ce(this,e,Re,Ae,ue,{})}}export{Le as default};
