import{S as ae,i as re,s as ie,e as _,k as w,t as y,c as m,m as I,a as v,h as b,d as a,b as k,g as N,K as c,j as ce,J as V,L as ee,E as B,n as ue,o as L,p as fe,q as W,a0 as de,v as pe,w as F,x as he,y as Q,B as X,T as _e,Z as me}from"../../../../chunks/index-506650de.js";import{s as te}from"../../../../chunks/svgMapper-f0ec5eb6.js";import{a as x}from"../../../../chunks/accountStore-fb743588.js";import{s as Z}from"../../../../chunks/messagingStore-9f4ca57a.js";import{g as se}from"../../../../chunks/navigation-0e6511d1.js";import"../../../../chunks/index-10b1f58e.js";import"../../../../chunks/singletons-d1fb5791.js";function ve(d){let e,t,n,s,l;return{c(){e=_("h1"),t=y("You received a response"),n=w(),s=_("h3"),l=y(d[7]),this.h()},l(o){e=m(o,"H1",{});var u=v(e);t=b(u,"You received a response"),u.forEach(a),n=I(o),s=m(o,"H3",{class:!0});var r=v(s);l=b(r,d[7]),r.forEach(a),this.h()},h(){k(s,"class","highlight")},m(o,u){N(o,e,u),c(e,t),N(o,n,u),N(o,s,u),c(s,l)},p:B,d(o){o&&a(e),o&&a(n),o&&a(s)}}}function ge(d){let e,t,n,s,l;return{c(){e=_("h1"),t=y("Your message has been sent"),n=w(),s=_("h3"),l=y(d[7]),this.h()},l(o){e=m(o,"H1",{});var u=v(e);t=b(u,"Your message has been sent"),u.forEach(a),n=I(o),s=m(o,"H3",{class:!0});var r=v(s);l=b(r,d[7]),r.forEach(a),this.h()},h(){k(s,"class","highlight")},m(o,u){N(o,e,u),c(e,t),N(o,n,u),N(o,s,u),c(s,l)},p:B,d(o){o&&a(e),o&&a(n),o&&a(s)}}}function ye(d){let e,t,n;var s=te.Messenger;function l(o){return{}}return s&&(t=new s(l())),{c(){e=_("div"),t&&F(t.$$.fragment),this.h()},l(o){e=m(o,"DIV",{class:!0});var u=v(e);t&&he(t.$$.fragment,u),u.forEach(a),this.h()},h(){k(e,"class","column double")},m(o,u){N(o,e,u),t&&Q(t,e,null),n=!0},p(o,u){if(s!==(s=te.Messenger)){if(t){ue();const r=t;L(r.$$.fragment,1,0,()=>{X(r,1)}),fe()}s?(t=new s(l()),F(t.$$.fragment),W(t.$$.fragment,1),Q(t,e,null)):t=null}},i(o){n||(t&&W(t.$$.fragment,o),n=!0)},o(o){t&&L(t.$$.fragment,o),n=!1},d(o){o&&a(e),t&&X(t)}}}function be(d){let e,t,n;return{c(){e=_("div"),t=_("img"),this.h()},l(s){e=m(s,"DIV",{class:!0});var l=v(e);t=m(l,"IMG",{src:!0,alt:!0}),l.forEach(a),this.h()},h(){_e(t.src,n="/pngout.png")||k(t,"src",n),k(t,"alt","The universe of 3Games, showing three planets."),k(e,"class","column half svelte-1c55scn")},m(s,l){N(s,e,l),c(e,t)},p:B,i:B,o:B,d(s){s&&a(e)}}}function Ee(d){let e,t,n,s,l,o,u,r,f=d[0].response+"",i,h;return{c(){e=_("p"),t=y("Hail "),n=_("span"),s=y(d[5]),l=y(`! I have a message from the
							support team addressed to you. The message is a response to your query. It says:`),o=w(),u=_("p"),r=y('"'),i=y(f),h=y('"'),this.h()},l(p){e=m(p,"P",{});var E=v(e);t=b(E,"Hail "),n=m(E,"SPAN",{class:!0});var R=v(n);s=b(R,d[5]),R.forEach(a),l=b(E,`! I have a message from the
							support team addressed to you. The message is a response to your query. It says:`),E.forEach(a),o=I(p),u=m(p,"P",{});var M=v(u);r=b(M,'"'),i=b(M,f),h=b(M,'"'),M.forEach(a),this.h()},h(){k(n,"class","highlight accent")},m(p,E){N(p,e,E),c(e,t),c(e,n),c(n,s),c(e,l),N(p,o,E),N(p,u,E),c(u,r),c(u,i),c(u,h)},p(p,E){E&1&&f!==(f=p[0].response+"")&&ce(i,f)},d(p){p&&a(e),p&&a(o),p&&a(u)}}}function ke(d){let e,t,n,s,l,o,u,r;return{c(){e=_("p"),t=y("Greetings "),n=_("span"),s=y(d[5]),l=y(`. The robots are trying to
							figure out which planet to route your query. Expect a response within
							`),o=_("span"),u=y("24 to 48 hours"),r=y("."),this.h()},l(f){e=m(f,"P",{});var i=v(e);t=b(i,"Greetings "),n=m(i,"SPAN",{class:!0});var h=v(n);s=b(h,d[5]),h.forEach(a),l=b(i,`. The robots are trying to
							figure out which planet to route your query. Expect a response within
							`),o=m(i,"SPAN",{class:!0});var p=v(o);u=b(p,"24 to 48 hours"),p.forEach(a),r=b(i,"."),i.forEach(a),this.h()},h(){k(n,"class","highlight accent"),k(o,"class","highlight")},m(f,i){N(f,e,i),c(e,t),c(e,n),c(n,s),c(e,l),c(e,o),c(o,u),c(e,r)},p:B,d(f){f&&a(e)}}}function Ne(d){let e,t,n,s,l,o,u,r,f,i,h,p,E,R,M;return{c(){e=_("p"),t=y("Thanks again for contacting support. Any concerns or additional questions?"),n=w(),s=_("div"),l=_("button"),o=_("ion-icon"),u=w(),r=_("span"),f=y("Contact"),i=w(),h=_("button"),p=_("ion-icon"),E=w(),R=_("span"),M=y("Discord"),this.h()},l(D){e=m(D,"P",{});var U=v(e);t=b(U,"Thanks again for contacting support. Any concerns or additional questions?"),U.forEach(a),n=I(D),s=m(D,"DIV",{class:!0});var S=v(s);l=m(S,"BUTTON",{class:!0});var Y=v(l);o=m(Y,"ION-ICON",{class:!0,name:!0}),v(o).forEach(a),u=I(Y),r=m(Y,"SPAN",{});var j=v(r);f=b(j,"Contact"),j.forEach(a),Y.forEach(a),i=I(S),h=m(S,"BUTTON",{class:!0});var $=v(h);p=m($,"ION-ICON",{class:!0,name:!0}),v(p).forEach(a),E=I($),R=m($,"SPAN",{});var q=v(R);M=b(q,"Discord"),q.forEach(a),$.forEach(a),S.forEach(a),this.h()},h(){V(o,"class","icon svelte-1c55scn"),V(o,"name","mail"),k(l,"class","svelte-1c55scn"),V(p,"class","icon svelte-1c55scn"),V(p,"name","logo-discord"),k(h,"class","svelte-1c55scn"),k(s,"class","action-buttons svelte-1c55scn")},m(D,U){N(D,e,U),c(e,t),N(D,n,U),N(D,s,U),c(s,l),c(l,o),c(l,u),c(l,r),c(r,f),c(s,i),c(s,h),c(h,p),c(h,E),c(h,R),c(R,M)},d(D){D&&a(e),D&&a(n),D&&a(s)}}}function De(d){let e,t,n,s,l,o,u,r,f;return{c(){e=_("p"),t=y("Thanks again for contacting support. While you wait, stop by our Discord server."),n=w(),s=_("div"),l=_("button"),o=_("ion-icon"),u=w(),r=_("span"),f=y("Discord"),this.h()},l(i){e=m(i,"P",{});var h=v(e);t=b(h,"Thanks again for contacting support. While you wait, stop by our Discord server."),h.forEach(a),n=I(i),s=m(i,"DIV",{class:!0});var p=v(s);l=m(p,"BUTTON",{class:!0});var E=v(l);o=m(E,"ION-ICON",{class:!0,name:!0}),v(o).forEach(a),u=I(E),r=m(E,"SPAN",{});var R=v(r);f=b(R,"Discord"),R.forEach(a),E.forEach(a),p.forEach(a),this.h()},h(){V(o,"class","icon svelte-1c55scn"),V(o,"name","logo-discord"),k(l,"class","svelte-1c55scn"),k(s,"class","action-buttons svelte-1c55scn")},m(i,h){N(i,e,h),c(e,t),N(i,n,h),N(i,s,h),c(s,l),c(l,o),c(l,u),c(l,r),c(r,f)},d(i){i&&a(e),i&&a(n),i&&a(s)}}}function ne(d){var q,G;let e,t,n,s,l,o,u,r,f,i,h,p,E,R,M,D,U=d[0].body+"",S,Y,j,$=((G=(q=d[0])==null?void 0:q.status)==null?void 0:G.status_type)===0&&oe(d);return{c(){e=_("hr"),t=w(),n=_("div"),s=_("h2"),l=y("Your original message"),o=w(),u=_("h3"),r=y(d[6]),f=w(),i=_("p"),h=_("span"),p=y(d[5]),E=y(", this is the message you sent us:"),R=w(),M=_("p"),D=y('"'),S=y(U),Y=y('"'),j=w(),$&&$.c(),this.h()},l(P){e=m(P,"HR",{}),t=I(P),n=m(P,"DIV",{class:!0});var T=v(n);s=m(T,"H2",{id:!0});var O=v(s);l=b(O,"Your original message"),O.forEach(a),o=I(T),u=m(T,"H3",{class:!0});var g=v(u);r=b(g,d[6]),g.forEach(a),f=I(T),i=m(T,"P",{});var H=v(i);h=m(H,"SPAN",{class:!0});var A=v(h);p=b(A,d[5]),A.forEach(a),E=b(H,", this is the message you sent us:"),H.forEach(a),R=I(T),M=m(T,"P",{});var C=v(M);D=b(C,'"'),S=b(C,U),Y=b(C,'"'),C.forEach(a),j=I(T),$&&$.l(T),T.forEach(a),this.h()},h(){k(s,"id","heading-message"),k(u,"class","highlight"),k(h,"class","highlight accent"),k(n,"class","author-message svelte-1c55scn")},m(P,T){N(P,e,T),N(P,t,T),N(P,n,T),c(n,s),c(s,l),c(n,o),c(n,u),c(u,r),c(n,f),c(n,i),c(i,h),c(h,p),c(i,E),c(n,R),c(n,M),c(M,D),c(M,S),c(M,Y),c(n,j),$&&$.m(n,null)},p(P,T){var O,g;T&1&&U!==(U=P[0].body+"")&&ce(S,U),((g=(O=P[0])==null?void 0:O.status)==null?void 0:g.status_type)===0?$?$.p(P,T):($=oe(P),$.c(),$.m(n,null)):$&&($.d(1),$=null)},d(P){P&&a(e),P&&a(t),P&&a(n),$&&$.d()}}}function oe(d){let e,t,n;function s(h,p){return h[2]?$e:Te}let l=s(d),o=l(d);function u(h,p){return h[2]?Ie:we}let r=u(d),f=r(d),i=!d[2]&&le(d);return{c(){o.c(),e=w(),t=_("div"),f.c(),n=w(),i&&i.c(),this.h()},l(h){o.l(h),e=I(h),t=m(h,"DIV",{class:!0});var p=v(t);f.l(p),n=I(p),i&&i.l(p),p.forEach(a),this.h()},h(){k(t,"class","action-buttons svelte-1c55scn")},m(h,p){o.m(h,p),N(h,e,p),N(h,t,p),f.m(t,null),c(t,n),i&&i.m(t,null)},p(h,p){l!==(l=s(h))&&(o.d(1),o=l(h),o&&(o.c(),o.m(e.parentNode,e))),r===(r=u(h))&&f?f.p(h,p):(f.d(1),f=r(h),f&&(f.c(),f.m(t,n))),h[2]?i&&(i.d(1),i=null):i?i.p(h,p):(i=le(h),i.c(),i.m(t,null))},d(h){o.d(h),h&&a(e),h&&a(t),f.d(),i&&i.d()}}}function Te(d){let e,t;return{c(){e=_("h3"),t=y("Would you like to modify your query?"),this.h()},l(n){e=m(n,"H3",{class:!0});var s=v(e);t=b(s,"Would you like to modify your query?"),s.forEach(a),this.h()},h(){k(e,"class","highlight large")},m(n,s){N(n,e,s),c(e,t)},d(n){n&&a(e)}}}function $e(d){let e,t;return{c(){e=_("h3"),t=y("Your message was deleted."),this.h()},l(n){e=m(n,"H3",{class:!0});var s=v(e);t=b(s,"Your message was deleted."),s.forEach(a),this.h()},h(){k(e,"class","highlight large")},m(n,s){N(n,e,s),c(e,t)},d(n){n&&a(e)}}}function we(d){let e,t,n,s,l,o,u;return{c(){e=_("button"),t=_("ion-icon"),n=w(),s=_("span"),l=y("Edit"),this.h()},l(r){e=m(r,"BUTTON",{class:!0});var f=v(e);t=m(f,"ION-ICON",{class:!0,name:!0}),v(t).forEach(a),n=I(f),s=m(f,"SPAN",{});var i=v(s);l=b(i,"Edit"),i.forEach(a),f.forEach(a),this.h()},h(){V(t,"class","icon svelte-1c55scn"),V(t,"name","create"),k(e,"class","svelte-1c55scn")},m(r,f){N(r,e,f),c(e,t),c(e,n),c(e,s),c(s,l),o||(u=ee(e,"click",d[3]),o=!0)},p:B,d(r){r&&a(e),o=!1,u()}}}function Ie(d){let e,t,n,s,l,o,u;return{c(){e=_("button"),t=_("ion-icon"),n=w(),s=_("span"),l=y("Undo"),this.h()},l(r){e=m(r,"BUTTON",{class:!0});var f=v(e);t=m(f,"ION-ICON",{class:!0,name:!0}),v(t).forEach(a),n=I(f),s=m(f,"SPAN",{});var i=v(s);l=b(i,"Undo"),i.forEach(a),f.forEach(a),this.h()},h(){V(t,"class","icon svelte-1c55scn"),V(t,"name","arrow-undo-circle-outline"),k(e,"class","svelte-1c55scn")},m(r,f){N(r,e,f),c(e,t),c(e,n),c(e,s),c(s,l),o||(u=ee(e,"click",d[3]),o=!0)},p:B,d(r){r&&a(e),o=!1,u()}}}function le(d){let e,t,n,s,l,o,u;return{c(){e=_("button"),t=_("ion-icon"),n=w(),s=_("span"),l=y("Delete"),this.h()},l(r){e=m(r,"BUTTON",{class:!0});var f=v(e);t=m(f,"ION-ICON",{class:!0,name:!0}),v(t).forEach(a),n=I(f),s=m(f,"SPAN",{});var i=v(s);l=b(i,"Delete"),i.forEach(a),f.forEach(a),this.h()},h(){V(t,"class","icon svelte-1c55scn"),V(t,"name","close-circle"),k(e,"class","alert svelte-1c55scn")},m(r,f){N(r,e,f),c(e,t),c(e,n),c(e,s),c(s,l),o||(u=ee(e,"click",d[4]),o=!0)},p:B,d(r){r&&a(e),o=!1,u()}}}function Ae(d){let e,t,n,s,l,o,u,r,f,i,h,p,E;function R(g,H){var A,C;return((C=(A=g[0])==null?void 0:A.status)==null?void 0:C.status_type)===0?ge:ve}let M=R(d),D=M(d);const U=[be,ye],S=[];function Y(g,H){var A,C;return((C=(A=g[0])==null?void 0:A.status)==null?void 0:C.status_type)===0?0:1}u=Y(d),r=S[u]=U[u](d);function j(g,H){var A,C;return((C=(A=g[0])==null?void 0:A.status)==null?void 0:C.status_type)===0?ke:Ee}let $=j(d),q=$(d);function G(g,H){var A,C;return((C=(A=g[0])==null?void 0:A.status)==null?void 0:C.status_type)===0?De:Ne}let P=G(d),T=P(d),O=typeof d[1]!="undefined"&&typeof d[1].token!="undefined"&&ne(d);return{c(){e=_("section"),t=_("article"),n=_("div"),D.c(),s=w(),l=_("div"),o=_("div"),r.c(),f=w(),i=_("div"),q.c(),h=w(),T.c(),p=w(),O&&O.c(),this.h()},l(g){e=m(g,"SECTION",{class:!0});var H=v(e);t=m(H,"ARTICLE",{class:!0});var A=v(t);n=m(A,"DIV",{class:!0});var C=v(n);D.l(C),C.forEach(a),s=I(A),l=m(A,"DIV",{class:!0});var J=v(l);o=m(J,"DIV",{class:!0});var z=v(o);r.l(z),f=I(z),i=m(z,"DIV",{class:!0});var K=v(i);q.l(K),h=I(K),T.l(K),K.forEach(a),z.forEach(a),p=I(J),O&&O.l(J),J.forEach(a),A.forEach(a),H.forEach(a),this.h()},h(){k(n,"class","container svelte-1c55scn"),k(i,"class","column"),k(o,"class","row"),k(l,"class","content svelte-1c55scn"),k(t,"class","content svelte-1c55scn"),k(e,"class","background")},m(g,H){N(g,e,H),c(e,t),c(t,n),D.m(n,null),c(t,s),c(t,l),c(l,o),S[u].m(o,null),c(o,f),c(o,i),q.m(i,null),c(i,h),T.m(i,null),c(l,p),O&&O.m(l,null),E=!0},p(g,[H]){M===(M=R(g))&&D?D.p(g,H):(D.d(1),D=M(g),D&&(D.c(),D.m(n,null)));let A=u;u=Y(g),u===A?S[u].p(g,H):(ue(),L(S[A],1,1,()=>{S[A]=null}),fe(),r=S[u],r?r.p(g,H):(r=S[u]=U[u](g),r.c()),W(r,1),r.m(o,f)),$===($=j(g))&&q?q.p(g,H):(q.d(1),q=$(g),q&&(q.c(),q.m(i,h))),P!==(P=G(g))&&(T.d(1),T=P(g),T&&(T.c(),T.m(i,null))),typeof g[1]!="undefined"&&typeof g[1].token!="undefined"?O?O.p(g,H):(O=ne(g),O.c(),O.m(l,null)):O&&(O.d(1),O=null)},i(g){E||(W(r),E=!0)},o(g){L(r),E=!1},d(g){g&&a(e),D.d(),S[u].d(),q.d(),T.d(),O&&O.d()}}}function Oe(d,e,t){let{messageResponse:n={}}=e,s;x.subscribe(p=>{t(1,s=p)});let l=!1;const o=de();function u(){o("onEditMessage")}function r(p){t(2,l=!0),o("onDeleteMessage")}let f=typeof s.username!="undefined"?s.username:n.name,i=typeof n.created!="undefined"?new Date(n.created).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):null,h=typeof n.updated!="undefined"?new Date(n.updated).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):null;return pe(async()=>{s.unreadMessages>0&&o("onMessageRead")}),d.$$set=p=>{"messageResponse"in p&&t(0,n=p.messageResponse)},[n,s,l,u,r,f,i,h]}class Me extends ae{constructor(e){super(),re(this,e,Oe,Ae,ie,{messageResponse:0})}}function Pe(d){let e,t,n;return t=new Me({props:{messageResponse:d[0]}}),t.$on("onEditMessage",d[1]),t.$on("onDeleteMessage",d[3]),t.$on("onMessageRead",d[2]),{c(){e=w(),F(t.$$.fragment),this.h()},l(s){me('[data-svelte="svelte-mfrlgm"]',document.head).forEach(a),e=I(s),he(t.$$.fragment,s),this.h()},h(){document.title="A response from 3Games"},m(s,l){N(s,e,l),Q(t,s,l),n=!0},p(s,[l]){const o={};l&1&&(o.messageResponse=s[0]),t.$set(o)},i(s){n||(W(t.$$.fragment,s),n=!0)},o(s){L(t.$$.fragment,s),n=!1},d(s){s&&a(e),X(t,s)}}}function Ce(d,e,t){let n;Z.subscribe(r=>{t(0,n=r)});let s;x.subscribe(r=>{s=r});function l(r){if(!n.active){se("/contact?undo=true");return}se("/contact?edit=true")}async function o(){const r={"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+s.token},f=`https://3ee.dev/account/contact/${n.id}/`,h=await(await fetch(f,{method:"PATCH",headers:r,mode:"cors",body:JSON.stringify({read:!0})})).json();Z.update(E=>h);let p=s;p.unreadMessages=p.unreadMessages-1,x.set(p)}async function u(r){const f={"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+s.token},i=`https://3ee.dev/account/contact/${n.id}/`,p=await(await fetch(i,{method:"PATCH",headers:f,mode:"cors",body:JSON.stringify({active:!1})})).json();Z.update(E=>p)}return[n,l,o,u]}class je extends ae{constructor(e){super(),re(this,e,Ce,Pe,ie,{})}}export{je as default};
