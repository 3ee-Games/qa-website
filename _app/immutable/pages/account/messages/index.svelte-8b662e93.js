import{S as V,i as W,s as X,e as p,t as k,k as D,c as v,a as g,h as M,d as h,m as w,b,g as S,L as r,E as P,M as x,H as ee,j as B,Q as te,l as Y,a0 as se,v as ae,w as le,Z as oe,x as ne,y as re,q as ce,o as ie,B as he}from"../../../chunks/index-a28671a4.js";import{g as fe}from"../../../chunks/navigation-0e6511d1.js";import{a as ue}from"../../../chunks/accountStore-ceb4f84f.js";import{s as me}from"../../../chunks/messagingStore-609b3df4.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/index-fe8e9bb0.js";function Z(c,e,n){const a=c.slice();return a[6]=e[n],a}function F(c){let e,n,a,i,u,t,l,s,o,y,$;return{c(){e=p("p"),n=k("Hello, "),a=p("span"),i=k(c[1]),u=k(", you have no messages."),t=D(),l=p("p"),s=k("Need help? "),o=p("a"),y=k("Contact us"),$=k(" anytime!"),this.h()},l(d){e=v(d,"P",{class:!0});var E=g(e);n=M(E,"Hello, "),a=v(E,"SPAN",{class:!0});var C=g(a);i=M(C,c[1]),C.forEach(h),u=M(E,", you have no messages."),E.forEach(h),t=w(d),l=v(d,"P",{class:!0});var A=g(l);s=M(A,"Need help? "),o=v(A,"A",{href:!0});var T=g(o);y=M(T,"Contact us"),T.forEach(h),$=M(A," anytime!"),A.forEach(h),this.h()},h(){b(a,"class","highlight accent"),b(e,"class","svelte-jbm6am"),b(o,"href","/contact/"),b(l,"class","svelte-jbm6am")},m(d,E){S(d,e,E),r(e,n),r(e,a),r(a,i),r(e,u),S(d,t,E),S(d,l,E),r(l,s),r(l,o),r(o,y),r(l,$)},p:P,d(d){d&&h(e),d&&h(t),d&&h(l)}}}function J(c){let e,n,a,i,u,t,l,s,o,y,$,d,E,C,A,T,N=c[0],_=[];for(let f=0;f<N.length;f+=1)_[f]=K(Z(c,N,f));return{c(){e=p("table"),n=p("thead"),a=p("tr"),i=p("th"),u=p("h4"),t=k("status"),l=D(),s=p("th"),o=p("h4"),y=k("subject"),$=D(),d=p("th"),E=p("h4"),C=k("message"),A=D(),T=p("tbody");for(let f=0;f<_.length;f+=1)_[f].c();this.h()},l(f){e=v(f,"TABLE",{class:!0});var j=g(e);n=v(j,"THEAD",{class:!0});var m=g(n);a=v(m,"TR",{class:!0});var H=g(a);i=v(H,"TH",{class:!0});var L=g(i);u=v(L,"H4",{class:!0});var O=g(u);t=M(O,"status"),O.forEach(h),L.forEach(h),l=w(H),s=v(H,"TH",{class:!0});var z=g(s);o=v(z,"H4",{class:!0});var I=g(o);y=M(I,"subject"),I.forEach(h),z.forEach(h),$=w(H),d=v(H,"TH",{class:!0});var G=g(d);E=v(G,"H4",{class:!0});var Q=g(E);C=M(Q,"message"),Q.forEach(h),G.forEach(h),H.forEach(h),m.forEach(h),A=w(j),T=v(j,"TBODY",{class:!0});var R=g(T);for(let q=0;q<_.length;q+=1)_[q].l(R);R.forEach(h),j.forEach(h),this.h()},h(){b(u,"class","highlight large"),b(i,"class","svelte-jbm6am"),b(o,"class","highlight large"),b(s,"class","svelte-jbm6am"),b(E,"class","highlight large"),b(d,"class","svelte-jbm6am"),b(a,"class","svelte-jbm6am"),b(n,"class","svelte-jbm6am"),b(T,"class","svelte-jbm6am"),b(e,"class","zebra svelte-jbm6am")},m(f,j){S(f,e,j),r(e,n),r(n,a),r(a,i),r(i,u),r(u,t),r(a,l),r(a,s),r(s,o),r(o,y),r(a,$),r(a,d),r(d,E),r(E,C),r(e,A),r(e,T);for(let m=0;m<_.length;m+=1)_[m].m(T,null)},p(f,j){if(j&5){N=f[0];let m;for(m=0;m<N.length;m+=1){const H=Z(f,N,m);_[m]?_[m].p(H,j):(_[m]=K(H),_[m].c(),_[m].m(T,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=N.length}},d(f){f&&h(e),te(_,f)}}}function K(c){var T,N;let e,n,a=U((N=(T=c[6])==null?void 0:T.status)==null?void 0:N.status_type)+"",i,u,t,l=c[6].subject+"",s,o,y,$=c[6].body+"",d,E,C,A;return{c(){e=p("tr"),n=p("td"),i=k(a),u=D(),t=p("td"),s=k(l),o=D(),y=p("td"),d=k($),E=D(),this.h()},l(_){e=v(_,"TR",{class:!0});var f=g(e);n=v(f,"TD",{class:!0});var j=g(n);i=M(j,a),j.forEach(h),u=w(f),t=v(f,"TD",{class:!0});var m=g(t);s=M(m,l),m.forEach(h),o=w(f),y=v(f,"TD",{class:!0});var H=g(y);d=M(H,$),H.forEach(h),E=w(f),f.forEach(h),this.h()},h(){b(n,"class","svelte-jbm6am"),b(t,"class","svelte-jbm6am"),b(y,"class","svelte-jbm6am"),b(e,"class","svelte-jbm6am")},m(_,f){S(_,e,f),r(e,n),r(n,i),r(e,u),r(e,t),r(t,s),r(e,o),r(e,y),r(y,d),r(e,E),C||(A=x(e,"click",function(){ee(c[2](c[6]))&&c[2](c[6]).apply(this,arguments)}),C=!0)},p(_,f){var j,m;c=_,f&1&&a!==(a=U((m=(j=c[6])==null?void 0:j.status)==null?void 0:m.status_type)+"")&&B(i,a),f&1&&l!==(l=c[6].subject+"")&&B(s,l),f&1&&$!==($=c[6].body+"")&&B(d,$)},d(_){_&&h(e),C=!1,A()}}}function _e(c){let e,n,a,i,u,t=(typeof c[0]=="undefined"||c[0].length===0)&&F(c),l=c[0].length>0&&J(c);return{c(){e=p("h1"),n=k("Messages"),a=D(),t&&t.c(),i=D(),l&&l.c(),u=Y()},l(s){e=v(s,"H1",{});var o=g(e);n=M(o,"Messages"),o.forEach(h),a=w(s),t&&t.l(s),i=w(s),l&&l.l(s),u=Y()},m(s,o){S(s,e,o),r(e,n),S(s,a,o),t&&t.m(s,o),S(s,i,o),l&&l.m(s,o),S(s,u,o)},p(s,[o]){typeof s[0]=="undefined"||s[0].length===0?t?t.p(s,o):(t=F(s),t.c(),t.m(i.parentNode,i)):t&&(t.d(1),t=null),s[0].length>0?l?l.p(s,o):(l=J(s),l.c(),l.m(u.parentNode,u)):l&&(l.d(1),l=null)},i:P,o:P,d(s){s&&h(e),s&&h(a),t&&t.d(s),s&&h(i),l&&l.d(s),s&&h(u)}}}function U(c){return c===0?"processing":"complete"}function de(c,e,n){let a;ue.subscribe(o=>{a=o});const i=a==null?void 0:a.token,u=a==null?void 0:a.username;let t=[];const l=se();ae(async()=>{const o=await fetch("https://3ee.dev/account/contact/",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+i},mode:"cors"});n(0,t=await o.json())});function s(o){me.update(y=>o),l("onSelectMessage")}return[t,u,s]}class pe extends V{constructor(e){super(),W(this,e,de,_e,X,{})}}function ve(c){let e,n,a,i,u;return i=new pe({}),i.$on("onSelectMessage",c[0]),{c(){e=D(),n=p("section"),a=p("article"),le(i.$$.fragment),this.h()},l(t){oe('[data-svelte="svelte-1itotn5"]',document.head).forEach(h),e=w(t),n=v(t,"SECTION",{class:!0});var s=g(n);a=v(s,"ARTICLE",{class:!0});var o=g(a);ne(i.$$.fragment,o),o.forEach(h),s.forEach(h),this.h()},h(){document.title="Messages from 3ee.com support",b(a,"class","content"),b(n,"class","background")},m(t,l){S(t,e,l),S(t,n,l),r(n,a),re(i,a,null),u=!0},p:P,i(t){u||(ce(i.$$.fragment,t),u=!0)},o(t){ie(i.$$.fragment,t),u=!1},d(t){t&&h(e),t&&h(n),he(i)}}}function ge(c){function e(n){fe("/account/messages/response")}return[e]}class ke extends V{constructor(e){super(),W(this,e,ge,ve,X,{})}}export{ke as default};
