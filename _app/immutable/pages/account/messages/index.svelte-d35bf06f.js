import{S as ee,i as te,s as se,e as m,t as k,k as A,c as d,a as v,h as $,d as f,m as C,b as y,g as E,I as u,E as I,M as K,J as U,L as X,K as F,j as O,a0 as le,O as ae,l as Q,_ as ne,v as oe,w as ie,X as re,x as ce,y as fe,q as ue,o as he,B as _e}from"../../../chunks/index-b0e60546.js";import{g as pe}from"../../../chunks/navigation-0e6511d1.js";import{a as me}from"../../../chunks/accountStore-fb474891.js";import{s as de}from"../../../chunks/messagingStore-98d8aafa.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/index-f2a0ff0f.js";function V(a,e,o){const t=a.slice();return t[6]=e[o],t}function W(a){let e,o,t,l,c,s,i,n,r,b,N;return{c(){e=m("p"),o=k("Hello, "),t=m("span"),l=k(a[1]),c=k(", you have no messages."),s=A(),i=m("p"),n=k("Need help? "),r=m("a"),b=k("Contact us"),N=k(" anytime!"),this.h()},l(_){e=d(_,"P",{});var g=v(e);o=$(g,"Hello, "),t=d(g,"SPAN",{class:!0});var S=v(t);l=$(S,a[1]),S.forEach(f),c=$(g,", you have no messages."),g.forEach(f),s=C(_),i=d(_,"P",{});var M=v(i);n=$(M,"Need help? "),r=d(M,"A",{href:!0});var H=v(r);b=$(H,"Contact us"),H.forEach(f),N=$(M," anytime!"),M.forEach(f),this.h()},h(){y(t,"class","highlight accent"),y(r,"href","/contact/")},m(_,g){E(_,e,g),u(e,o),u(e,t),u(t,l),u(e,c),E(_,s,g),E(_,i,g),u(i,n),u(i,r),u(r,b),u(i,N)},p:I,d(_){_&&f(e),_&&f(s),_&&f(i)}}}function Y(a){let e,o=a[0],t=[];for(let l=0;l<o.length;l+=1)t[l]=R(V(a,o,l));return{c(){e=m("ul");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=d(l,"UL",{class:!0});var c=v(e);for(let s=0;s<t.length;s+=1)t[s].l(c);c.forEach(f),this.h()},h(){y(e,"class","svelte-1tivc51")},m(l,c){E(l,e,c);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(l,c){if(c&5){o=l[0];let s;for(s=0;s<o.length;s+=1){const i=V(l,o,s);t[s]?t[s].p(i,c):(t[s]=R(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=o.length}},d(l){l&&f(e),ae(t,l)}}}function Z(a){let e,o;return{c(){e=m("h3"),o=k("New!"),this.h()},l(t){e=d(t,"H3",{class:!0});var l=v(e);o=$(l,"New!"),l.forEach(f),this.h()},h(){y(e,"class","unread svelte-1tivc51")},m(t,l){E(t,e,l),u(e,o)},d(t){t&&f(e)}}}function R(a){var B,J;let e,o,t,l=a[6].subject+"",c,s,i,n,r,b=D((J=(B=a[6])==null?void 0:B.status)==null?void 0:J.status_type)+"",N,_,g,S,M=x(a[6].created)+"",H,q,G,z,p=!a[6].read&&a[6].status.status_type===1&&Z();return{c(){e=m("li"),o=m("h3"),t=m("a"),c=k(l),i=A(),p&&p.c(),n=A(),r=m("h3"),N=k(b),g=A(),S=m("p"),H=k(M),q=A(),this.h()},l(w){e=d(w,"LI",{class:!0});var h=v(e);o=d(h,"H3",{class:!0});var T=v(o);t=d(T,"A",{href:!0});var j=v(t);c=$(j,l),j.forEach(f),T.forEach(f),i=C(h),p&&p.l(h),n=C(h),r=d(h,"H3",{class:!0});var L=v(r);N=$(L,b),L.forEach(f),g=C(h),S=d(h,"P",{class:!0});var P=v(S);H=$(P,M),P.forEach(f),q=C(h),h.forEach(f),this.h()},h(){var w,h;y(t,"href",s=""),y(o,"class","svelte-1tivc51"),y(r,"class",_=K(D((h=(w=a[6])==null?void 0:w.status)==null?void 0:h.status_type))+" svelte-1tivc51"),y(S,"class","publish-date svelte-1tivc51"),y(e,"class","svelte-1tivc51")},m(w,h){E(w,e,h),u(e,o),u(o,t),u(t,c),u(e,i),p&&p.m(e,null),u(e,n),u(e,r),u(r,N),u(e,g),u(e,S),u(S,H),u(e,q),G||(z=[U(t,"click",X(function(){F(a[2](a[6]))&&a[2](a[6]).apply(this,arguments)})),U(e,"click",X(function(){F(a[2](a[6]))&&a[2](a[6]).apply(this,arguments)}))],G=!0)},p(w,h){var T,j,L,P;a=w,h&1&&l!==(l=a[6].subject+"")&&O(c,l),!a[6].read&&a[6].status.status_type===1?p||(p=Z(),p.c(),p.m(e,n)):p&&(p.d(1),p=null),h&1&&b!==(b=D((j=(T=a[6])==null?void 0:T.status)==null?void 0:j.status_type)+"")&&O(N,b),h&1&&_!==(_=K(D((P=(L=a[6])==null?void 0:L.status)==null?void 0:P.status_type))+" svelte-1tivc51")&&y(r,"class",_),h&1&&M!==(M=x(a[6].created)+"")&&O(H,M)},d(w){w&&f(e),p&&p.d(),G=!1,le(z)}}}function ve(a){let e,o,t,l,c,s=(typeof a[0]=="undefined"||a[0].length===0)&&W(a),i=a[0].length>0&&Y(a);return{c(){e=m("h1"),o=k("Messages"),t=A(),s&&s.c(),l=A(),i&&i.c(),c=Q()},l(n){e=d(n,"H1",{});var r=v(e);o=$(r,"Messages"),r.forEach(f),t=C(n),s&&s.l(n),l=C(n),i&&i.l(n),c=Q()},m(n,r){E(n,e,r),u(e,o),E(n,t,r),s&&s.m(n,r),E(n,l,r),i&&i.m(n,r),E(n,c,r)},p(n,[r]){typeof n[0]=="undefined"||n[0].length===0?s?s.p(n,r):(s=W(n),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null),n[0].length>0?i?i.p(n,r):(i=Y(n),i.c(),i.m(c.parentNode,c)):i&&(i.d(1),i=null)},i:I,o:I,d(n){n&&f(e),n&&f(t),s&&s.d(n),n&&f(l),i&&i.d(n),n&&f(c)}}}function x(a){return typeof a!="undefined"?new Date(a).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):null}function D(a){return a===0?"processing":"complete"}function ge(a,e,o){let t;me.subscribe(r=>{t=r});const l=t==null?void 0:t.token,c=t==null?void 0:t.username;let s=[];const i=ne();oe(async()=>{const r=await fetch("https://3ee.dev/account/contact/",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+l},mode:"cors"});o(0,s=await r.json())});function n(r){de.update(b=>r),i("onSelectMessage")}return[s,c,n]}class ye extends ee{constructor(e){super(),te(this,e,ge,ve,se,{})}}function Ee(a){let e,o,t,l,c;return l=new ye({}),l.$on("onSelectMessage",a[0]),{c(){e=A(),o=m("section"),t=m("article"),ie(l.$$.fragment),this.h()},l(s){re('[data-svelte="svelte-1itotn5"]',document.head).forEach(f),e=C(s),o=d(s,"SECTION",{class:!0});var n=v(o);t=d(n,"ARTICLE",{class:!0});var r=v(t);ce(l.$$.fragment,r),r.forEach(f),n.forEach(f),this.h()},h(){document.title="Messages from 3ee.com support",y(t,"class","content"),y(o,"class","background")},m(s,i){E(s,e,i),E(s,o,i),u(o,t),fe(l,t,null),c=!0},p:I,i(s){c||(ue(l.$$.fragment,s),c=!0)},o(s){he(l.$$.fragment,s),c=!1},d(s){s&&f(e),s&&f(o),_e(l)}}}function ke(a){function e(o){pe("/account/messages/response")}return[e]}class Ae extends ee{constructor(e){super(),te(this,e,ke,Ee,se,{})}}export{Ae as default};
