import{S as V,i as X,s as x,e as v,t as C,k as D,c as g,a as m,h as q,d as n,m as S,b as p,g as O,K as a,L as tt,H as et,j as I,E as N,N as st,Z as at,v as lt,w as ot,W as rt,x as nt,y as ct,q as ht,o as it,B as ut}from"../../../chunks/index-0a950aaa.js";import{g as ft}from"../../../chunks/navigation-0e6511d1.js";import{a as dt}from"../../../chunks/accountStore-9a9e2377.js";import{s as _t}from"../../../chunks/messagingStore-d98a47dc.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/index-1d7753ad.js";function J(r,t,c){const l=r.slice();return l[5]=t[c],l}function Q(r){var k,B;let t,c,l=U((B=(k=r[5])==null?void 0:k.status)==null?void 0:B.status_type)+"",o,d,e,_=r[5].subject+"",f,$,M,E=r[5].body+"",T,w,A,H;return{c(){t=v("tr"),c=v("td"),o=C(l),d=D(),e=v("td"),f=C(_),$=D(),M=v("td"),T=C(E),w=D(),this.h()},l(y){t=g(y,"TR",{class:!0});var i=m(t);c=g(i,"TD",{class:!0});var b=m(c);o=q(b,l),b.forEach(n),d=S(i),e=g(i,"TD",{class:!0});var h=m(e);f=q(h,_),h.forEach(n),$=S(i),M=g(i,"TD",{class:!0});var s=m(M);T=q(s,E),s.forEach(n),w=S(i),i.forEach(n),this.h()},h(){p(c,"class","svelte-1shtgav"),p(e,"class","svelte-1shtgav"),p(M,"class","svelte-1shtgav"),p(t,"class","svelte-1shtgav")},m(y,i){O(y,t,i),a(t,c),a(c,o),a(t,d),a(t,e),a(e,f),a(t,$),a(t,M),a(M,T),a(t,w),A||(H=tt(t,"click",function(){et(r[1](r[5]))&&r[1](r[5]).apply(this,arguments)}),A=!0)},p(y,i){var b,h;r=y,i&1&&l!==(l=U((h=(b=r[5])==null?void 0:b.status)==null?void 0:h.status_type)+"")&&I(o,l),i&1&&_!==(_=r[5].subject+"")&&I(f,_),i&1&&E!==(E=r[5].body+"")&&I(T,E)},d(y){y&&n(t),A=!1,H()}}}function vt(r){let t,c,l,o,d,e,_,f,$,M,E,T,w,A,H,k,B,y,i,b=r[0],h=[];for(let s=0;s<b.length;s+=1)h[s]=Q(J(r,b,s));return{c(){t=v("h1"),c=C("Messages"),l=D(),o=v("table"),d=v("thead"),e=v("tr"),_=v("th"),f=v("h4"),$=C("status"),M=D(),E=v("th"),T=v("h4"),w=C("subject"),A=D(),H=v("th"),k=v("h4"),B=C("message"),y=D(),i=v("tbody");for(let s=0;s<h.length;s+=1)h[s].c();this.h()},l(s){t=g(s,"H1",{});var j=m(t);c=q(j,"Messages"),j.forEach(n),l=S(s),o=g(s,"TABLE",{class:!0});var u=m(o);d=g(u,"THEAD",{class:!0});var R=m(d);e=g(R,"TR",{class:!0});var L=m(e);_=g(L,"TH",{class:!0});var G=m(_);f=g(G,"H4",{class:!0});var K=m(f);$=q(K,"status"),K.forEach(n),G.forEach(n),M=S(L),E=g(L,"TH",{class:!0});var P=m(E);T=g(P,"H4",{class:!0});var W=m(T);w=q(W,"subject"),W.forEach(n),P.forEach(n),A=S(L),H=g(L,"TH",{class:!0});var Y=m(H);k=g(Y,"H4",{class:!0});var Z=m(k);B=q(Z,"message"),Z.forEach(n),Y.forEach(n),L.forEach(n),R.forEach(n),y=S(u),i=g(u,"TBODY",{class:!0});var F=m(i);for(let z=0;z<h.length;z+=1)h[z].l(F);F.forEach(n),u.forEach(n),this.h()},h(){p(f,"class","highlight large"),p(_,"class","svelte-1shtgav"),p(T,"class","highlight large"),p(E,"class","svelte-1shtgav"),p(k,"class","highlight large"),p(H,"class","svelte-1shtgav"),p(e,"class","svelte-1shtgav"),p(d,"class","svelte-1shtgav"),p(i,"class","svelte-1shtgav"),p(o,"class","zebra svelte-1shtgav")},m(s,j){O(s,t,j),a(t,c),O(s,l,j),O(s,o,j),a(o,d),a(d,e),a(e,_),a(_,f),a(f,$),a(e,M),a(e,E),a(E,T),a(T,w),a(e,A),a(e,H),a(H,k),a(k,B),a(o,y),a(o,i);for(let u=0;u<h.length;u+=1)h[u].m(i,null)},p(s,[j]){if(j&3){b=s[0];let u;for(u=0;u<b.length;u+=1){const R=J(s,b,u);h[u]?h[u].p(R,j):(h[u]=Q(R),h[u].c(),h[u].m(i,null))}for(;u<h.length;u+=1)h[u].d(1);h.length=b.length}},i:N,o:N,d(s){s&&n(t),s&&n(l),s&&n(o),st(h,s)}}}function U(r){return r===0?"processing":"complete"}function gt(r,t,c){let l;dt.subscribe(f=>{l=f});const o=l==null?void 0:l.token;let d=[];const e=at();lt(async()=>{const f=await fetch("https://3ee.dev/account/contact/",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+o},mode:"cors"});c(0,d=await f.json())});function _(f){_t.update($=>f),e("onSelectMessage")}return[d,_]}class mt extends V{constructor(t){super(),X(this,t,gt,vt,x,{})}}function pt(r){let t,c,l,o,d;return o=new mt({}),o.$on("onSelectMessage",r[0]),{c(){t=D(),c=v("section"),l=v("article"),ot(o.$$.fragment),this.h()},l(e){rt('[data-svelte="svelte-1itotn5"]',document.head).forEach(n),t=S(e),c=g(e,"SECTION",{class:!0});var f=m(c);l=g(f,"ARTICLE",{class:!0});var $=m(l);nt(o.$$.fragment,$),$.forEach(n),f.forEach(n),this.h()},h(){document.title="Messages from 3ee.com support",p(l,"class","content"),p(c,"class","background")},m(e,_){O(e,t,_),O(e,c,_),a(c,l),ct(o,l,null),d=!0},p:N,i(e){d||(ht(o.$$.fragment,e),d=!0)},o(e){it(o.$$.fragment,e),d=!1},d(e){e&&n(t),e&&n(c),ut(o)}}}function Et(r){function t(c){ft("/account/messages/response")}return[t]}class kt extends V{constructor(t){super(),X(this,t,Et,pt,x,{})}}export{kt as default};
