import{S as M,i as W,s as Z,e as d,t as k,k as C,c as p,a as g,h as j,d as a,m as D,b as r,J as P,g as B,K as e,_ as R,L as V,a0 as z,E as F,G as Q,Z as X,w as Y,W as x,x as ee,y as te,q as oe,o as se,B as ae}from"../../../chunks/index-0a950aaa.js";import{a as J}from"../../../chunks/accountStore-c9da4039.js";import{g as re}from"../../../chunks/navigation-0e6511d1.js";import"../../../chunks/index-1d7753ad.js";import"../../../chunks/singletons-d1fb5791.js";const ne=!0,le=!1;function K(O){let l,t,c,i,m,n,N,w,I,A,b,o,v,L,h,E,S;return{c(){l=d("p"),t=k("Unable to log in with provided credentials."),c=C(),i=d("ol"),m=d("li"),n=d("ion-icon"),N=k(`If you do not have an account,
			`),w=d("a"),I=k("create one now"),A=k("."),b=C(),o=d("li"),v=d("ion-icon"),L=k(`Did you forget your password?
			`),h=d("a"),E=k("Get a new one"),S=k("."),this.h()},l(y){l=p(y,"P",{class:!0});var _=g(l);t=j(_,"Unable to log in with provided credentials."),_.forEach(a),c=D(y),i=p(y,"OL",{class:!0});var $=g(i);m=p($,"LI",{class:!0});var T=g(m);n=p(T,"ION-ICON",{class:!0,name:!0}),g(n).forEach(a),N=j(T,`If you do not have an account,
			`),w=p(T,"A",{href:!0});var u=g(w);I=j(u,"create one now"),u.forEach(a),A=j(T,"."),T.forEach(a),b=D($),o=p($,"LI",{class:!0});var s=g(o);v=p(s,"ION-ICON",{class:!0,name:!0}),g(v).forEach(a),L=j(s,`Did you forget your password?
			`),h=p(s,"A",{href:!0});var f=g(h);E=j(f,"Get a new one"),f.forEach(a),S=j(s,"."),s.forEach(a),$.forEach(a),this.h()},h(){r(l,"class","error"),P(n,"class","error-icon svelte-1m53veu"),P(n,"name","create-outline"),r(w,"href","/account/create/"),r(m,"class","svelte-1m53veu"),P(v,"class","error-icon svelte-1m53veu"),P(v,"name","key"),r(h,"href","/account"),r(o,"class","svelte-1m53veu"),r(i,"class","error-description svelte-1m53veu")},m(y,_){B(y,l,_),e(l,t),B(y,c,_),B(y,i,_),e(i,m),e(m,n),e(m,N),e(m,w),e(w,I),e(m,A),e(i,b),e(i,o),e(o,v),e(o,L),e(o,h),e(h,E),e(o,S)},d(y){y&&a(l),y&&a(c),y&&a(i)}}}function ce(O){let l,t,c,i,m,n,N,w,I,A,b,o,v,L,h,E,S,y,_,$,T,u=O[2]&&K();return{c(){u&&u.c(),l=C(),t=d("form"),c=d("label"),i=k("your username:"),m=C(),n=d("input"),w=C(),I=d("label"),A=k("your secure password:"),b=C(),o=d("input"),L=C(),h=d("button"),E=d("ion-icon"),S=C(),y=d("span"),_=k("Login"),this.h()},l(s){u&&u.l(s),l=D(s),t=p(s,"FORM",{class:!0});var f=g(t);c=p(f,"LABEL",{for:!0});var G=g(c);i=j(G,"your username:"),G.forEach(a),m=D(f),n=p(f,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),w=D(f),I=p(f,"LABEL",{for:!0});var U=g(I);A=j(U,"your secure password:"),U.forEach(a),b=D(f),o=p(f,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),L=D(f),h=p(f,"BUTTON",{class:!0});var q=g(h);E=p(q,"ION-ICON",{class:!0,name:!0}),g(E).forEach(a),S=D(q),y=p(q,"SPAN",{});var H=g(y);_=j(H,"Login"),H.forEach(a),q.forEach(a),f.forEach(a),this.h()},h(){r(c,"for","username"),r(n,"name","username"),r(n,"id","username"),r(n,"placeholder","enter a username"),r(n,"type","text"),n.required="true",r(n,"class",N=O[2]?"validation-error":""),r(I,"for","password"),r(o,"name","password"),r(o,"id","password"),r(o,"placeholder","enter a secure password"),r(o,"type","password"),o.required="true",r(o,"class",v=O[2]?"validation-error":""),P(E,"class","icon svelte-1m53veu"),P(E,"name","rocket-sharp"),r(h,"class","svelte-1m53veu"),r(t,"class","svelte-1m53veu")},m(s,f){u&&u.m(s,f),B(s,l,f),B(s,t,f),e(t,c),e(c,i),e(t,m),e(t,n),R(n,O[0]),e(t,w),e(t,I),e(I,A),e(t,b),e(t,o),R(o,O[1]),e(t,L),e(t,h),e(h,E),e(h,S),e(h,y),e(y,_),$||(T=[V(n,"input",O[4]),V(o,"input",O[5]),V(t,"submit",z(O[3]))],$=!0)},p(s,[f]){s[2]?u||(u=K(),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null),f&4&&N!==(N=s[2]?"validation-error":"")&&r(n,"class",N),f&1&&n.value!==s[0]&&R(n,s[0]),f&4&&v!==(v=s[2]?"validation-error":"")&&r(o,"class",v),f&2&&o.value!==s[1]&&R(o,s[1])},i:F,o:F,d(s){u&&u.d(s),s&&a(l),s&&a(t),$=!1,Q(T)}}}function ie(O,l,t){let c="admin",i="admin",m=!1;const n=X();function N(){t(2,m=!1),n("loginSuccess")}const w=async b=>{const o=new FormData(b.target);let v=Object.fromEntries(o.entries());const L=await fetch("https://3ee.dev/account/login/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify(v)});if(L.ok){const h=await L.json();J.set(h),J.useLocalStorage(),h.token&&N()}else(await L.json()).non_field_errors.forEach(E=>{if(E==="Unable to log in with provided credentials."){t(2,m=!0);return}})};function I(){c=this.value,t(0,c)}function A(){i=this.value,t(1,i)}return[c,i,m,w,I,A]}class ue extends M{constructor(l){super(),W(this,l,ie,ce,Z,{})}}function fe(O){let l,t,c,i,m,n,N,w,I,A,b,o,v,L,h,E,S,y;return b=new ue({}),b.$on("loginSuccess",O[0]),{c(){l=C(),t=d("section"),c=d("div"),i=d("div"),m=d("h1"),n=k("Login to your Account"),N=C(),w=d("h2"),I=k("Continue your journey where you left off. Resume by logging into your account."),A=C(),Y(b.$$.fragment),o=C(),v=d("p"),L=d("ion-icon"),h=k(`Did you
			`),E=d("a"),S=k("forget your password?"),this.h()},l(_){x('[data-svelte="svelte-8wp1cu"]',document.head).forEach(a),l=D(_),t=p(_,"SECTION",{class:!0});var T=g(t);c=p(T,"DIV",{class:!0});var u=g(c);i=p(u,"DIV",{class:!0});var s=g(i);m=p(s,"H1",{});var f=g(m);n=j(f,"Login to your Account"),f.forEach(a),N=D(s),w=p(s,"H2",{class:!0});var G=g(w);I=j(G,"Continue your journey where you left off. Resume by logging into your account."),G.forEach(a),s.forEach(a),A=D(u),ee(b.$$.fragment,u),o=D(u),v=p(u,"P",{class:!0});var U=g(v);L=p(U,"ION-ICON",{class:!0,name:!0}),g(L).forEach(a),h=j(U,`Did you
			`),E=p(U,"A",{href:!0});var q=g(E);S=j(q,"forget your password?"),q.forEach(a),U.forEach(a),u.forEach(a),T.forEach(a),this.h()},h(){document.title="Login to your Account",r(w,"class","svelte-1yjkc6a"),r(i,"class","promo"),P(L,"class","shield-checkmark svelte-1yjkc6a"),P(L,"name","key"),r(E,"href","/account"),r(v,"class","forget-password svelte-1yjkc6a"),r(c,"class","content"),r(t,"class","background")},m(_,$){B(_,l,$),B(_,t,$),e(t,c),e(c,i),e(i,m),e(m,n),e(i,N),e(i,w),e(w,I),e(c,A),te(b,c,null),e(c,o),e(c,v),e(v,L),e(v,h),e(v,E),e(E,S),y=!0},p:F,i(_){y||(oe(b.$$.fragment,_),y=!0)},o(_){se(b.$$.fragment,_),y=!1},d(_){_&&a(l),_&&a(t),ae(b)}}}const ye=le,ge=ne,we=!0;function de(O){function l(t){re("/account")}return[l]}class Ee extends M{constructor(l){super(),W(this,l,de,fe,Z,{})}}export{Ee as default,ye as hydrate,we as prerender,ge as router};
