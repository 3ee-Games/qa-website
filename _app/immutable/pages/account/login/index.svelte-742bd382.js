import{S as K,i as Z,s as z,e as f,t as j,k as $,c as d,a as m,h as A,d as r,m as C,b as a,J as q,g as V,K as e,a1 as G,L as R,M as Q,E as F,G as W,a0 as X,w as Y,Z as x,x as ee,y as te,q as oe,o as se,B as ae}from"../../../chunks/index-506650de.js";import{d as re,b as ne}from"../../../chunks/env-859c48a7.js";import{a as J}from"../../../chunks/accountStore-c7e0df4d.js";import{g as le}from"../../../chunks/navigation-0e6511d1.js";import"../../../chunks/index-10b1f58e.js";import"../../../chunks/singletons-d1fb5791.js";function M(O){let n,t,c,w,h,o,I,L,b,D,E,p,i,y,g,_,S,N;return{c(){n=f("div"),t=f("p"),c=j("Unable to log in with provided credentials."),w=$(),h=f("ol"),o=f("li"),I=f("ion-icon"),L=j(`If you do not have an account,
				`),b=f("a"),D=j("create one now"),E=j("."),p=$(),i=f("li"),y=f("ion-icon"),g=j(`Did you forget your password?
				`),_=f("a"),S=j("Get a new one"),N=j("."),this.h()},l(v){n=d(v,"DIV",{class:!0});var k=m(n);t=d(k,"P",{class:!0});var U=m(t);c=A(U,"Unable to log in with provided credentials."),U.forEach(r),w=C(k),h=d(k,"OL",{class:!0});var l=m(h);o=d(l,"LI",{class:!0});var s=m(o);I=d(s,"ION-ICON",{class:!0,name:!0}),m(I).forEach(r),L=A(s,`If you do not have an account,
				`),b=d(s,"A",{href:!0});var u=m(b);D=A(u,"create one now"),u.forEach(r),E=A(s,"."),s.forEach(r),p=C(l),i=d(l,"LI",{class:!0});var T=m(i);y=d(T,"ION-ICON",{class:!0,name:!0}),m(y).forEach(r),g=A(T,`Did you forget your password?
				`),_=d(T,"A",{href:!0});var P=m(_);S=A(P,"Get a new one"),P.forEach(r),N=A(T,"."),T.forEach(r),l.forEach(r),k.forEach(r),this.h()},h(){a(t,"class","error"),q(I,"class","error-icon svelte-1plmbw1"),q(I,"name","create-outline"),a(b,"href","/account/create/"),a(o,"class","svelte-1plmbw1"),q(y,"class","error-icon svelte-1plmbw1"),q(y,"name","key"),a(_,"href","/account"),a(i,"class","svelte-1plmbw1"),a(h,"class","error-description svelte-1plmbw1"),a(n,"class","error-container svelte-1plmbw1")},m(v,k){V(v,n,k),e(n,t),e(t,c),e(n,w),e(n,h),e(h,o),e(o,I),e(o,L),e(o,b),e(b,D),e(o,E),e(h,p),e(h,i),e(i,y),e(i,g),e(i,_),e(_,S),e(i,N)},d(v){v&&r(n)}}}function ce(O){let n,t,c,w,h,o,I,L,b,D,E,p,i,y,g,_,S,N,v,k,U,l=O[2]&&M();return{c(){l&&l.c(),n=$(),t=f("form"),c=f("label"),w=j("your username:"),h=$(),o=f("input"),L=$(),b=f("label"),D=j("your secure password:"),E=$(),p=f("input"),y=$(),g=f("button"),_=f("ion-icon"),S=$(),N=f("span"),v=j("Login"),this.h()},l(s){l&&l.l(s),n=C(s),t=d(s,"FORM",{class:!0});var u=m(t);c=d(u,"LABEL",{for:!0});var T=m(c);w=A(T,"your username:"),T.forEach(r),h=C(u),o=d(u,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),L=C(u),b=d(u,"LABEL",{for:!0});var P=m(b);D=A(P,"your secure password:"),P.forEach(r),E=C(u),p=d(u,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),y=C(u),g=d(u,"BUTTON",{class:!0});var B=m(g);_=d(B,"ION-ICON",{class:!0,name:!0}),m(_).forEach(r),S=C(B),N=d(B,"SPAN",{});var H=m(N);v=A(H,"Login"),H.forEach(r),B.forEach(r),u.forEach(r),this.h()},h(){a(c,"for","username"),a(o,"name","username"),a(o,"id","username"),a(o,"placeholder","enter a username"),a(o,"type","text"),o.required="true",a(o,"class",I=O[2]?"validation-error":""),a(b,"for","password"),a(p,"name","password"),a(p,"id","password"),a(p,"placeholder","enter a secure password"),a(p,"type","password"),p.required="true",a(p,"class",i=O[2]?"validation-error":""),q(_,"class","icon svelte-1plmbw1"),q(_,"name","rocket-sharp"),a(g,"class","svelte-1plmbw1"),a(t,"class","svelte-1plmbw1")},m(s,u){l&&l.m(s,u),V(s,n,u),V(s,t,u),e(t,c),e(c,w),e(t,h),e(t,o),G(o,O[0]),e(t,L),e(t,b),e(b,D),e(t,E),e(t,p),G(p,O[1]),e(t,y),e(t,g),e(g,_),e(g,S),e(g,N),e(N,v),k||(U=[R(o,"input",O[4]),R(p,"input",O[5]),R(t,"submit",Q(O[3]))],k=!0)},p(s,[u]){s[2]?l||(l=M(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),u&4&&I!==(I=s[2]?"validation-error":"")&&a(o,"class",I),u&1&&o.value!==s[0]&&G(o,s[0]),u&4&&i!==(i=s[2]?"validation-error":"")&&a(p,"class",i),u&2&&p.value!==s[1]&&G(p,s[1])},i:F,o:F,d(s){l&&l.d(s),s&&r(n),s&&r(t),k=!1,W(U)}}}function ie(O,n,t){let c="admin",w="admin",h=!1;const o=X();function I(){t(2,h=!1),o("loginSuccess")}const L=async E=>{const p=new FormData(E.target);let i=Object.fromEntries(p.entries());const y=await fetch("https://3ee.dev/account/login/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify(i)});if(y.ok){const g=await y.json();J.set(g),J.useLocalStorage(),g.token&&I()}else(await y.json()).non_field_errors.forEach(_=>{if(_==="Unable to log in with provided credentials."){t(2,h=!0);return}})};function b(){c=this.value,t(0,c)}function D(){w=this.value,t(1,w)}return[c,w,h,L,b,D]}class ue extends K{constructor(n){super(),Z(this,n,ie,ce,z,{})}}function fe(O){let n,t,c,w,h,o,I,L,b,D,E,p,i,y,g,_,S,N;return E=new ue({}),E.$on("loginSuccess",O[0]),{c(){n=$(),t=f("section"),c=f("div"),w=f("div"),h=f("h1"),o=j("Login to your Account"),I=$(),L=f("h2"),b=j("Continue your journey where you left off. Resume by logging into your account."),D=$(),Y(E.$$.fragment),p=$(),i=f("p"),y=f("ion-icon"),g=j(`Did you
			`),_=f("a"),S=j("forget your password?"),this.h()},l(v){x('[data-svelte="svelte-8wp1cu"]',document.head).forEach(r),n=C(v),t=d(v,"SECTION",{class:!0});var U=m(t);c=d(U,"DIV",{class:!0});var l=m(c);w=d(l,"DIV",{class:!0});var s=m(w);h=d(s,"H1",{});var u=m(h);o=A(u,"Login to your Account"),u.forEach(r),I=C(s),L=d(s,"H2",{class:!0});var T=m(L);b=A(T,"Continue your journey where you left off. Resume by logging into your account."),T.forEach(r),s.forEach(r),D=C(l),ee(E.$$.fragment,l),p=C(l),i=d(l,"P",{class:!0});var P=m(i);y=d(P,"ION-ICON",{class:!0,name:!0}),m(y).forEach(r),g=A(P,`Did you
			`),_=d(P,"A",{href:!0});var B=m(_);S=A(B,"forget your password?"),B.forEach(r),P.forEach(r),l.forEach(r),U.forEach(r),this.h()},h(){document.title="Login to your Account",a(L,"class","svelte-1yjkc6a"),a(w,"class","promo"),q(y,"class","shield-checkmark svelte-1yjkc6a"),q(y,"name","key"),a(_,"href","/account"),a(i,"class","forget-password svelte-1yjkc6a"),a(c,"class","content"),a(t,"class","background")},m(v,k){V(v,n,k),V(v,t,k),e(t,c),e(c,w),e(w,h),e(h,o),e(w,I),e(w,L),e(L,b),e(c,D),te(E,c,null),e(c,p),e(c,i),e(i,y),e(i,g),e(i,_),e(_,S),N=!0},p:F,i(v){N||(oe(E.$$.fragment,v),N=!0)},o(v){se(E.$$.fragment,v),N=!1},d(v){v&&r(n),v&&r(t),ae(E)}}}const we=re,ge=ne,be=!0;function de(O){function n(t){le("/account")}return[n]}class Ee extends K{constructor(n){super(),Z(this,n,de,fe,z,{})}}export{Ee as default,we as hydrate,be as prerender,ge as router};
