import{S as pe,i as de,s as me,l as fe,g as A,n as ke,o as W,p as Ee,q as Y,d as c,_ as we,v as Ce,k as N,e as h,t as w,m as O,c as p,a as m,h as C,b as f,H as D,I as n,$ as z,J as M,E as he,a0 as ge,w as _e,x as ve,y as ye,B as be,X as Ie}from"../../../chunks/index-299456bd.js";import{a as Ne}from"../../../chunks/accountStore-af10db85.js";import{C as Oe}from"../../../chunks/Captcha-f37fdb77.js";import{g as Ae}from"../../../chunks/navigation-0e6511d1.js";import"../../../chunks/index-c05afa88.js";import"../../../chunks/singletons-d1fb5791.js";function Pe(d){let t,e,r,s,l,a,o,u,y,_,i,v,g,I,P,F,G,E,S,$,B,X,V,K,Q,Z,j,H,x,ee,L,te,re;function se(k,b){if(k[6])return Se;if(k[5])return De}let U=se(d),T=U&&U(d);function oe(k,b){return k[5]?Be:$e}let R=oe(d),q=R(d);return{c(){T&&T.c(),t=N(),e=h("form"),r=h("label"),s=w("your email address:"),l=N(),a=h("input"),u=N(),y=h("label"),_=w("desired username:"),i=N(),v=h("input"),I=N(),P=h("label"),F=w("come up with a secure password:"),G=N(),E=h("input"),S=N(),$=h("p"),B=h("ion-icon"),X=w(` By creating a 3ee Account, you
			automatically agree to our `),V=h("a"),K=w("terms of service"),Q=w("."),Z=N(),j=h("p"),H=h("ion-icon"),x=w(` We may need to make sure you're a
			human. Don't worry, our captchas are fun.`),ee=N(),L=h("div"),q.c(),this.h()},l(k){T&&T.l(k),t=O(k),e=p(k,"FORM",{class:!0});var b=m(e);r=p(b,"LABEL",{for:!0});var ne=m(r);s=C(ne,"your email address:"),ne.forEach(c),l=O(b),a=p(b,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),u=O(b),y=p(b,"LABEL",{for:!0});var le=m(y);_=C(le,"desired username:"),le.forEach(c),i=O(b),v=p(b,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),I=O(b),P=p(b,"LABEL",{for:!0});var ce=m(P);F=C(ce,"come up with a secure password:"),ce.forEach(c),G=O(b),E=p(b,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0}),S=O(b),$=p(b,"P",{});var J=m($);B=p(J,"ION-ICON",{class:!0,name:!0}),m(B).forEach(c),X=C(J,` By creating a 3ee Account, you
			automatically agree to our `),V=p(J,"A",{href:!0});var ue=m(V);K=C(ue,"terms of service"),ue.forEach(c),Q=C(J,"."),J.forEach(c),Z=O(b),j=p(b,"P",{});var ae=m(j);H=p(ae,"ION-ICON",{class:!0,name:!0}),m(H).forEach(c),x=C(ae,` We may need to make sure you're a
			human. Don't worry, our captchas are fun.`),ae.forEach(c),ee=O(b),L=p(b,"DIV",{id:!0});var ie=m(L);q.l(ie),ie.forEach(c),b.forEach(c),this.h()},h(){f(r,"for","email"),f(a,"name","email"),f(a,"id","email"),f(a,"placeholder","enter your email address"),f(a,"type","email"),a.required="true",f(a,"class",o=d[6]?"validation-error":""),f(y,"for","username"),f(v,"name","username"),f(v,"id","username"),f(v,"placeholder","enter a username"),f(v,"type","text"),v.required="true",f(v,"class",g=d[6]?"validation-error":""),f(P,"for","password"),f(E,"name","password"),f(E,"id","password"),f(E,"placeholder","enter a secure password"),f(E,"type","password"),E.required="true",D(B,"class","shield-checkmark svelte-kuyvbp"),D(B,"name","shield-checkmark"),f(V,"href","/account/terms/"),D(H,"class","shield-checkmark svelte-kuyvbp"),D(H,"name","game-controller"),f(L,"id","form-footer"),f(e,"class","svelte-kuyvbp")},m(k,b){T&&T.m(k,b),A(k,t,b),A(k,e,b),n(e,r),n(r,s),n(e,l),n(e,a),z(a,d[1]),n(e,u),n(e,y),n(y,_),n(e,i),n(e,v),z(v,d[2]),n(e,I),n(e,P),n(P,F),n(e,G),n(e,E),z(E,d[3]),n(e,S),n(e,$),n($,B),n($,X),n($,V),n(V,K),n($,Q),n(e,Z),n(e,j),n(j,H),n(j,x),n(e,ee),n(e,L),q.m(L,null),te||(re=[M(a,"input",d[8]),M(v,"input",d[9]),M(E,"input",d[10]),M(e,"submit",d[7])],te=!0)},p(k,b){U!==(U=se(k))&&(T&&T.d(1),T=U&&U(k),T&&(T.c(),T.m(t.parentNode,t))),b&64&&o!==(o=k[6]?"validation-error":"")&&f(a,"class",o),b&2&&a.value!==k[1]&&z(a,k[1]),b&64&&g!==(g=k[6]?"validation-error":"")&&f(v,"class",g),b&4&&v.value!==k[2]&&z(v,k[2]),b&8&&E.value!==k[3]&&z(E,k[3]),R!==(R=oe(k))&&(q.d(1),q=R(k),q&&(q.c(),q.m(L,null)))},i:he,o:he,d(k){T&&T.d(k),k&&c(t),k&&c(e),q.d(),te=!1,ge(re)}}}function Te(d){let t,e;return t=new Oe({props:{game:d[0]}}),{c(){_e(t.$$.fragment)},l(r){ve(t.$$.fragment,r)},m(r,s){ye(t,r,s),e=!0},p(r,s){const l={};s&1&&(l.game=r[0]),t.$set(l)},i(r){e||(Y(t.$$.fragment,r),e=!0)},o(r){W(t.$$.fragment,r),e=!1},d(r){be(t,r)}}}function De(d){let t,e,r,s;return{c(){t=h("div"),e=h("p"),r=h("ion-icon"),s=w(" The captcha was not correct. Please try below."),this.h()},l(l){t=p(l,"DIV",{class:!0});var a=m(t);e=p(a,"P",{class:!0});var o=m(e);r=p(o,"ION-ICON",{class:!0,name:!0}),m(r).forEach(c),s=C(o," The captcha was not correct. Please try below."),o.forEach(c),a.forEach(c),this.h()},h(){D(r,"class","shield-x"),D(r,"name","shield-x"),f(e,"class","error"),f(t,"class","error-container")},m(l,a){A(l,t,a),n(t,e),n(e,r),n(e,s)},d(l){l&&c(t)}}}function Se(d){let t,e,r,s,l,a,o,u,y;return{c(){t=h("div"),e=h("p"),r=w("Your email or username are unavailable."),s=N(),l=h("p"),a=w("If you have an account, "),o=h("a"),u=w("login"),y=w(" now."),this.h()},l(_){t=p(_,"DIV",{class:!0});var i=m(t);e=p(i,"P",{class:!0});var v=m(e);r=C(v,"Your email or username are unavailable."),v.forEach(c),s=O(i),l=p(i,"P",{class:!0});var g=m(l);a=C(g,"If you have an account, "),o=p(g,"A",{href:!0});var I=m(o);u=C(I,"login"),I.forEach(c),y=C(g," now."),g.forEach(c),i.forEach(c),this.h()},h(){f(e,"class","error"),f(o,"href","/account/login/"),f(l,"class","error-description svelte-kuyvbp"),f(t,"class","error-container")},m(_,i){A(_,t,i),n(t,e),n(e,r),n(t,s),n(t,l),n(l,a),n(l,o),n(o,u),n(l,y)},d(_){_&&c(t)}}}function $e(d){let t,e,r,s,l;return{c(){t=h("button"),e=h("ion-icon"),r=N(),s=h("span"),l=w("Create Account"),this.h()},l(a){t=p(a,"BUTTON",{class:!0});var o=m(t);e=p(o,"ION-ICON",{class:!0,name:!0}),m(e).forEach(c),r=O(o),s=p(o,"SPAN",{});var u=m(s);l=C(u,"Create Account"),u.forEach(c),o.forEach(c),this.h()},h(){D(e,"class","icon svelte-kuyvbp"),D(e,"name","rocket-sharp"),f(t,"class","svelte-kuyvbp")},m(a,o){A(a,t,o),n(t,e),n(t,r),n(t,s),n(s,l)},d(a){a&&c(t)}}}function Be(d){let t,e,r,s,l,a,o,u,y,_;return{c(){t=h("div"),e=h("p"),r=h("ion-icon"),s=w(" The captcha was not correct. Please try again."),l=N(),a=h("button"),o=h("ion-icon"),u=N(),y=h("span"),_=w("Try again"),this.h()},l(i){t=p(i,"DIV",{class:!0});var v=m(t);e=p(v,"P",{class:!0});var g=m(e);r=p(g,"ION-ICON",{class:!0,name:!0}),m(r).forEach(c),s=C(g," The captcha was not correct. Please try again."),g.forEach(c),l=O(v),a=p(v,"BUTTON",{class:!0});var I=m(a);o=p(I,"ION-ICON",{class:!0,name:!0}),m(o).forEach(c),u=O(I),y=p(I,"SPAN",{});var P=m(y);_=C(P,"Try again"),P.forEach(c),I.forEach(c),v.forEach(c),this.h()},h(){D(r,"class","shield-x"),D(r,"name","shield-x"),f(e,"class","error"),D(o,"class","icon svelte-kuyvbp"),D(o,"name","rocket-sharp"),f(a,"class","alert svelte-kuyvbp"),f(t,"class","error-container")},m(i,v){A(i,t,v),n(t,e),n(e,r),n(e,s),n(t,l),n(t,a),n(a,o),n(a,u),n(a,y),n(y,_)},d(i){i&&c(t)}}}function qe(d){let t,e,r,s;const l=[Te,Pe],a=[];function o(u,y){return u[4]?0:1}return t=o(d),e=a[t]=l[t](d),{c(){e.c(),r=fe()},l(u){e.l(u),r=fe()},m(u,y){a[t].m(u,y),A(u,r,y),s=!0},p(u,[y]){let _=t;t=o(u),t===_?a[t].p(u,y):(ke(),W(a[_],1,1,()=>{a[_]=null}),Ee(),e=a[t],e?e.p(u,y):(e=a[t]=l[t](u),e.c()),Y(e,1),e.m(r.parentNode,r))},i(u){s||(Y(e),s=!0)},o(u){W(e),s=!1},d(u){a[t].d(u),u&&c(r)}}}function Le(d,t,e){let r=null,s="tester66@test.com",l="eeper45",a="test",o=!1,u=!1,y={},_=!1;const i=we();Ce(async()=>{const E=await fetch("http://localhost:8000/captcha/start/",{method:"GET",mode:"cors"});e(0,r=await E.json()),window.addEventListener("message",function(S){const $=S.data,B=JSON.parse($);e(4,o=!1),i("onCaptchaEvent",{showCaptcha:o}),B.message==="onPlayCaptchaEnd"&&B.success?v():g()})});async function v(){e(5,u=!1);const E=await fetch("http://localhost:8000/account/create/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify(y)});try{if(E.ok){const S=await E.json();Ne.set(S),S.token&&(e(6,_=!1),i("createAccountSuccess"))}else e(6,_=!0)}catch{e(6,_=!0)}}function g(){e(5,u=!0)}async function I(E){E.preventDefault(),o||(e(4,o=!0),i("onCaptchaEvent",{showCaptcha:o}));const S=new FormData(E.target);y=Object.fromEntries(S.entries())}function P(){s=this.value,e(1,s)}function F(){l=this.value,e(2,l)}function G(){a=this.value,e(3,a)}return[r,s,l,a,o,u,_,I,P,F,G]}class Ve extends pe{constructor(t){super(),de(this,t,Le,qe,me,{})}}function je(d){let t,e,r,s,l;return{c(){t=h("h1"),e=w("Create your Account"),r=N(),s=h("h2"),l=w("Ready for your adventure to begin? Get started by creating an account."),this.h()},l(a){t=p(a,"H1",{});var o=m(t);e=C(o,"Create your Account"),o.forEach(c),r=O(a),s=p(a,"H2",{class:!0});var u=m(s);l=C(u,"Ready for your adventure to begin? Get started by creating an account."),u.forEach(c),this.h()},h(){f(s,"class","svelte-1huk59n")},m(a,o){A(a,t,o),n(t,e),A(a,r,o),A(a,s,o),n(s,l)},d(a){a&&c(t),a&&c(r),a&&c(s)}}}function He(d){let t,e,r,s,l;return{c(){t=h("h1"),e=w("Are you human?"),r=N(),s=h("h2"),l=w("Please solve the Captcha Puzzle to continue."),this.h()},l(a){t=p(a,"H1",{});var o=m(t);e=C(o,"Are you human?"),o.forEach(c),r=O(a),s=p(a,"H2",{class:!0});var u=m(s);l=C(u,"Please solve the Captcha Puzzle to continue."),u.forEach(c),this.h()},h(){f(s,"class","svelte-1huk59n")},m(a,o){A(a,t,o),n(t,e),A(a,r,o),A(a,s,o),n(s,l)},d(a){a&&c(t),a&&c(r),a&&c(s)}}}function Ue(d){let t,e,r,s,l,a,o;function u(i,v){return i[0]?He:je}let y=u(d),_=y(d);return a=new Ve({}),a.$on("createAccountSuccess",d[1]),a.$on("onCaptchaEvent",d[2]),{c(){t=N(),e=h("section"),r=h("div"),s=h("div"),_.c(),l=N(),_e(a.$$.fragment),this.h()},l(i){Ie('[data-svelte="svelte-qohrfk"]',document.head).forEach(c),t=O(i),e=p(i,"SECTION",{class:!0});var g=m(e);r=p(g,"DIV",{class:!0});var I=m(r);s=p(I,"DIV",{class:!0});var P=m(s);_.l(P),P.forEach(c),l=O(I),ve(a.$$.fragment,I),I.forEach(c),g.forEach(c),this.h()},h(){document.title="Create your Account",f(s,"class","promo"),f(r,"class","content"),f(e,"class","background")},m(i,v){A(i,t,v),A(i,e,v),n(e,r),n(r,s),_.m(s,null),n(r,l),ye(a,r,null),o=!0},p(i,[v]){y!==(y=u(i))&&(_.d(1),_=y(i),_&&(_.c(),_.m(s,null)))},i(i){o||(Y(a.$$.fragment,i),o=!0)},o(i){W(a.$$.fragment,i),o=!1},d(i){i&&c(t),i&&c(e),_.d(),be(a)}}}function ze(d,t,e){let r,s=!1;function l(o){Ae("/account/new/")}function a(o){e(3,s=o.detail.showCaptcha)}return d.$$.update=()=>{d.$$.dirty&8&&e(0,r=s)},[r,l,a,s]}class Ye extends pe{constructor(t){super(),de(this,t,ze,Ue,me,{})}}export{Ye as default};
