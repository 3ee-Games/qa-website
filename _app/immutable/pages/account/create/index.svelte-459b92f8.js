import{S as de,i as me,s as _e,l as fe,g as A,n as ke,o as W,p as we,q as Y,d as c,_ as Ce,v as ge,k as N,e as h,t as w,m as O,c as p,a as m,h as C,b as f,J as S,K as n,$ as z,L as M,E as he,G as Ie,w as ve,x as ye,y as be,B as Ee,X as Ne}from"../../../chunks/index-1918a0f6.js";import{a as pe}from"../../../chunks/accountStore-dfa5264b.js";import{C as Oe}from"../../../chunks/Captcha-56352775.js";import{g as Ae}from"../../../chunks/navigation-0e6511d1.js";import"../../../chunks/index-fc6d8b78.js";import"../../../chunks/singletons-d1fb5791.js";function Pe(d){let t,e,r,s,l,a,o,i,v,y,u,_,g,I,P,F,H,k,D,$,L,K,V,X,Q,Z,j,G,x,ee,q,te,re;function se(E,b){if(E[6])return De;if(E[5])return Se}let U=se(d),T=U&&U(d);function oe(E,b){return E[5]?Le:$e}let R=oe(d),B=R(d);return{c(){T&&T.c(),t=N(),e=h("form"),r=h("label"),s=w("your email address:"),l=N(),a=h("input"),i=N(),v=h("label"),y=w("desired username:"),u=N(),_=h("input"),I=N(),P=h("label"),F=w("come up with a secure password:"),H=N(),k=h("input"),D=N(),$=h("p"),L=h("ion-icon"),K=w(` By creating a 3ee Account, you
			automatically agree to our `),V=h("a"),X=w("terms of service"),Q=w("."),Z=N(),j=h("p"),G=h("ion-icon"),x=w(` We may need to make sure you're a
			human. Don't worry, our captchas are fun.`),ee=N(),q=h("div"),B.c(),this.h()},l(E){T&&T.l(E),t=O(E),e=p(E,"FORM",{class:!0});var b=m(e);r=p(b,"LABEL",{for:!0});var ne=m(r);s=C(ne,"your email address:"),ne.forEach(c),l=O(b),a=p(b,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),i=O(b),v=p(b,"LABEL",{for:!0});var le=m(v);y=C(le,"desired username:"),le.forEach(c),u=O(b),_=p(b,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),I=O(b),P=p(b,"LABEL",{for:!0});var ce=m(P);F=C(ce,"come up with a secure password:"),ce.forEach(c),H=O(b),k=p(b,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0}),D=O(b),$=p(b,"P",{});var J=m($);L=p(J,"ION-ICON",{class:!0,name:!0}),m(L).forEach(c),K=C(J,` By creating a 3ee Account, you
			automatically agree to our `),V=p(J,"A",{href:!0});var ie=m(V);X=C(ie,"terms of service"),ie.forEach(c),Q=C(J,"."),J.forEach(c),Z=O(b),j=p(b,"P",{});var ae=m(j);G=p(ae,"ION-ICON",{class:!0,name:!0}),m(G).forEach(c),x=C(ae,` We may need to make sure you're a
			human. Don't worry, our captchas are fun.`),ae.forEach(c),ee=O(b),q=p(b,"DIV",{id:!0});var ue=m(q);B.l(ue),ue.forEach(c),b.forEach(c),this.h()},h(){f(r,"for","email"),f(a,"name","email"),f(a,"id","email"),f(a,"placeholder","enter your email address"),f(a,"type","email"),a.required="true",f(a,"class",o=d[6]?"validation-error":""),f(v,"for","username"),f(_,"name","username"),f(_,"id","username"),f(_,"placeholder","enter a username"),f(_,"type","text"),_.required="true",f(_,"class",g=d[6]?"validation-error":""),f(P,"for","password"),f(k,"name","password"),f(k,"id","password"),f(k,"placeholder","enter a secure password"),f(k,"type","password"),k.required="true",S(L,"class","shield-checkmark svelte-b34ekl"),S(L,"name","shield-checkmark"),f(V,"href","/account/terms/"),S(G,"class","shield-checkmark svelte-b34ekl"),S(G,"name","game-controller"),f(q,"id","form-footer"),f(e,"class","svelte-b34ekl")},m(E,b){T&&T.m(E,b),A(E,t,b),A(E,e,b),n(e,r),n(r,s),n(e,l),n(e,a),z(a,d[1]),n(e,i),n(e,v),n(v,y),n(e,u),n(e,_),z(_,d[2]),n(e,I),n(e,P),n(P,F),n(e,H),n(e,k),z(k,d[3]),n(e,D),n(e,$),n($,L),n($,K),n($,V),n(V,X),n($,Q),n(e,Z),n(e,j),n(j,G),n(j,x),n(e,ee),n(e,q),B.m(q,null),te||(re=[M(a,"input",d[8]),M(_,"input",d[9]),M(k,"input",d[10]),M(e,"submit",d[7])],te=!0)},p(E,b){U!==(U=se(E))&&(T&&T.d(1),T=U&&U(E),T&&(T.c(),T.m(t.parentNode,t))),b&64&&o!==(o=E[6]?"validation-error":"")&&f(a,"class",o),b&2&&a.value!==E[1]&&z(a,E[1]),b&64&&g!==(g=E[6]?"validation-error":"")&&f(_,"class",g),b&4&&_.value!==E[2]&&z(_,E[2]),b&8&&k.value!==E[3]&&z(k,E[3]),R!==(R=oe(E))&&(B.d(1),B=R(E),B&&(B.c(),B.m(q,null)))},i:he,o:he,d(E){T&&T.d(E),E&&c(t),E&&c(e),B.d(),te=!1,Ie(re)}}}function Te(d){let t,e;return t=new Oe({props:{game:d[0]}}),{c(){ve(t.$$.fragment)},l(r){ye(t.$$.fragment,r)},m(r,s){be(t,r,s),e=!0},p(r,s){const l={};s&1&&(l.game=r[0]),t.$set(l)},i(r){e||(Y(t.$$.fragment,r),e=!0)},o(r){W(t.$$.fragment,r),e=!1},d(r){Ee(t,r)}}}function Se(d){let t,e,r,s;return{c(){t=h("div"),e=h("p"),r=h("ion-icon"),s=w(" The captcha was not correct. Please try below."),this.h()},l(l){t=p(l,"DIV",{class:!0});var a=m(t);e=p(a,"P",{class:!0});var o=m(e);r=p(o,"ION-ICON",{class:!0,name:!0}),m(r).forEach(c),s=C(o," The captcha was not correct. Please try below."),o.forEach(c),a.forEach(c),this.h()},h(){S(r,"class","shield-x"),S(r,"name","shield-x"),f(e,"class","error"),f(t,"class","error-container")},m(l,a){A(l,t,a),n(t,e),n(e,r),n(e,s)},d(l){l&&c(t)}}}function De(d){let t,e,r,s,l,a,o,i,v;return{c(){t=h("div"),e=h("p"),r=w("Your email or username are unavailable."),s=N(),l=h("p"),a=w("If you have an account, "),o=h("a"),i=w("login"),v=w(" now."),this.h()},l(y){t=p(y,"DIV",{});var u=m(t);e=p(u,"P",{class:!0});var _=m(e);r=C(_,"Your email or username are unavailable."),_.forEach(c),s=O(u),l=p(u,"P",{class:!0});var g=m(l);a=C(g,"If you have an account, "),o=p(g,"A",{href:!0});var I=m(o);i=C(I,"login"),I.forEach(c),v=C(g," now."),g.forEach(c),u.forEach(c),this.h()},h(){f(e,"class","error"),f(o,"href","/account/login/"),f(l,"class","error-description")},m(y,u){A(y,t,u),n(t,e),n(e,r),n(t,s),n(t,l),n(l,a),n(l,o),n(o,i),n(l,v)},d(y){y&&c(t)}}}function $e(d){let t,e,r,s,l;return{c(){t=h("button"),e=h("ion-icon"),r=N(),s=h("span"),l=w("Create Account"),this.h()},l(a){t=p(a,"BUTTON",{class:!0});var o=m(t);e=p(o,"ION-ICON",{class:!0,name:!0}),m(e).forEach(c),r=O(o),s=p(o,"SPAN",{});var i=m(s);l=C(i,"Create Account"),i.forEach(c),o.forEach(c),this.h()},h(){S(e,"class","icon svelte-b34ekl"),S(e,"name","rocket-sharp"),f(t,"class","svelte-b34ekl")},m(a,o){A(a,t,o),n(t,e),n(t,r),n(t,s),n(s,l)},d(a){a&&c(t)}}}function Le(d){let t,e,r,s,l,a,o,i,v,y;return{c(){t=h("div"),e=h("p"),r=h("ion-icon"),s=w(" The captcha was not correct. Please try again."),l=N(),a=h("button"),o=h("ion-icon"),i=N(),v=h("span"),y=w("Try again"),this.h()},l(u){t=p(u,"DIV",{class:!0});var _=m(t);e=p(_,"P",{class:!0});var g=m(e);r=p(g,"ION-ICON",{class:!0,name:!0}),m(r).forEach(c),s=C(g," The captcha was not correct. Please try again."),g.forEach(c),l=O(_),a=p(_,"BUTTON",{class:!0});var I=m(a);o=p(I,"ION-ICON",{class:!0,name:!0}),m(o).forEach(c),i=O(I),v=p(I,"SPAN",{});var P=m(v);y=C(P,"Try again"),P.forEach(c),I.forEach(c),_.forEach(c),this.h()},h(){S(r,"class","shield-x"),S(r,"name","shield-x"),f(e,"class","error"),S(o,"class","icon svelte-b34ekl"),S(o,"name","rocket-sharp"),f(a,"class","alert svelte-b34ekl"),f(t,"class","error-container")},m(u,_){A(u,t,_),n(t,e),n(e,r),n(e,s),n(t,l),n(t,a),n(a,o),n(a,i),n(a,v),n(v,y)},d(u){u&&c(t)}}}function Be(d){let t,e,r,s;const l=[Te,Pe],a=[];function o(i,v){return i[4]?0:1}return t=o(d),e=a[t]=l[t](d),{c(){e.c(),r=fe()},l(i){e.l(i),r=fe()},m(i,v){a[t].m(i,v),A(i,r,v),s=!0},p(i,[v]){let y=t;t=o(i),t===y?a[t].p(i,v):(ke(),W(a[y],1,1,()=>{a[y]=null}),we(),e=a[t],e?e.p(i,v):(e=a[t]=l[t](i),e.c()),Y(e,1),e.m(r.parentNode,r))},i(i){s||(Y(e),s=!0)},o(i){W(e),s=!1},d(i){a[t].d(i),i&&c(r)}}}function qe(d,t,e){let r=null,s="tester66@test.com",l="eeper45",a="test",o=!1,i=!1,v={},y=!1;const u=Ce();ge(async()=>{const k=await fetch("https://3ee.dev/captcha/start/",{method:"GET",mode:"cors"});e(0,r=await k.json()),window.addEventListener("message",function(D){const $=D.data,L=JSON.parse($);e(4,o=!1),u("onCaptchaEvent",{showCaptcha:o}),L.message==="onPlayCaptchaEnd"&&L.success?_():g()})});async function _(){e(5,i=!1);const k=await fetch("https://3ee.dev/account/create/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify(v)});if(k.ok){const D=await k.json();pe.set(D),pe.useLocalStorage(),D.token&&(e(6,y=!1),u("createAccountSuccess"))}else k.statusText==="Internal Server Error"&&e(6,y=!0)}function g(){e(5,i=!0)}async function I(k){k.preventDefault(),o||(e(4,o=!0),u("onCaptchaEvent",{showCaptcha:o}));const D=new FormData(k.target);v=Object.fromEntries(D.entries())}function P(){s=this.value,e(1,s)}function F(){l=this.value,e(2,l)}function H(){a=this.value,e(3,a)}return[r,s,l,a,o,i,y,I,P,F,H]}class Ve extends de{constructor(t){super(),me(this,t,qe,Be,_e,{})}}function je(d){let t,e,r,s,l;return{c(){t=h("h1"),e=w("Create your Account"),r=N(),s=h("h2"),l=w("Ready for your adventure to begin? Get started by creating an account."),this.h()},l(a){t=p(a,"H1",{});var o=m(t);e=C(o,"Create your Account"),o.forEach(c),r=O(a),s=p(a,"H2",{class:!0});var i=m(s);l=C(i,"Ready for your adventure to begin? Get started by creating an account."),i.forEach(c),this.h()},h(){f(s,"class","svelte-1huk59n")},m(a,o){A(a,t,o),n(t,e),A(a,r,o),A(a,s,o),n(s,l)},d(a){a&&c(t),a&&c(r),a&&c(s)}}}function Ge(d){let t,e,r,s,l;return{c(){t=h("h1"),e=w("Are you human?"),r=N(),s=h("h2"),l=w("Please solve the Captcha Puzzle to continue."),this.h()},l(a){t=p(a,"H1",{});var o=m(t);e=C(o,"Are you human?"),o.forEach(c),r=O(a),s=p(a,"H2",{class:!0});var i=m(s);l=C(i,"Please solve the Captcha Puzzle to continue."),i.forEach(c),this.h()},h(){f(s,"class","svelte-1huk59n")},m(a,o){A(a,t,o),n(t,e),A(a,r,o),A(a,s,o),n(s,l)},d(a){a&&c(t),a&&c(r),a&&c(s)}}}function Ue(d){let t,e,r,s,l,a,o;function i(u,_){return u[0]?Ge:je}let v=i(d),y=v(d);return a=new Ve({}),a.$on("createAccountSuccess",d[1]),a.$on("onCaptchaEvent",d[2]),{c(){t=N(),e=h("section"),r=h("div"),s=h("div"),y.c(),l=N(),ve(a.$$.fragment),this.h()},l(u){Ne('[data-svelte="svelte-qohrfk"]',document.head).forEach(c),t=O(u),e=p(u,"SECTION",{class:!0});var g=m(e);r=p(g,"DIV",{class:!0});var I=m(r);s=p(I,"DIV",{class:!0});var P=m(s);y.l(P),P.forEach(c),l=O(I),ye(a.$$.fragment,I),I.forEach(c),g.forEach(c),this.h()},h(){document.title="Create your Account",f(s,"class","promo"),f(r,"class","content"),f(e,"class","background")},m(u,_){A(u,t,_),A(u,e,_),n(e,r),n(r,s),y.m(s,null),n(r,l),be(a,r,null),o=!0},p(u,[_]){v!==(v=i(u))&&(y.d(1),y=v(u),y&&(y.c(),y.m(s,null)))},i(u){o||(Y(a.$$.fragment,u),o=!0)},o(u){W(a.$$.fragment,u),o=!1},d(u){u&&c(t),u&&c(e),y.d(),Ee(a)}}}function ze(d,t,e){let r,s=!1;function l(o){Ae("/account/login/")}function a(o){e(3,s=o.detail.showCaptcha)}return d.$$.update=()=>{d.$$.dirty&8&&e(0,r=s)},[r,l,a,s]}class Ye extends de{constructor(t){super(),me(this,t,ze,Ue,_e,{})}}export{Ye as default};
