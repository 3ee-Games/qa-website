import{S as fe,i as pe,s as he,l as le,g as A,n as ye,o as V,p as be,q as W,d as c,Z as ke,v as Ee,e as d,t as C,k as N,c as v,a as b,h as w,m as g,b as m,K as n,J as $,_ as U,L as R,E as ce,G as Ce,w as me,x as _e,y as de,B as ve,W as we}from"../../../chunks/index-0a950aaa.js";import{a as ue}from"../../../chunks/accountStore-c9da4039.js";import{C as Ae}from"../../../chunks/Captcha-278cff6c.js";import{g as Ne}from"../../../chunks/navigation-0e6511d1.js";import"../../../chunks/index-1d7753ad.js";import"../../../chunks/singletons-d1fb5791.js";function ge(h){let a,e,s,r,u,t,o,l,p,i,f,_,j,P,I,z,F,E,T,S,D,M,B,Y,K,Z,q,G,Q,X,x,te,O=h[6]&&ie();function ae(k,y){return k[5]?Ie:je}let J=ae(h),L=J(h);return{c(){O&&O.c(),a=N(),e=d("form"),s=d("label"),r=C("your email address:"),u=N(),t=d("input"),l=N(),p=d("label"),i=C("desired username:"),f=N(),_=d("input"),P=N(),I=d("label"),z=C("come up with a secure password:"),F=N(),E=d("input"),T=N(),S=d("p"),D=d("ion-icon"),M=C(` By creating a 3ee Account, you
			automatically agree to our `),B=d("a"),Y=C("terms of service"),K=C("."),Z=N(),q=d("p"),G=d("ion-icon"),Q=C(` When creating your account, we may
			need to make sure you're a human. Don't worry, our captchas are fun.`),X=N(),L.c(),this.h()},l(k){O&&O.l(k),a=g(k),e=v(k,"FORM",{class:!0});var y=b(e);s=v(y,"LABEL",{for:!0});var re=b(s);r=w(re,"your email address:"),re.forEach(c),u=g(y),t=v(y,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),l=g(y),p=v(y,"LABEL",{for:!0});var se=b(p);i=w(se,"desired username:"),se.forEach(c),f=g(y),_=v(y,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0,class:!0}),P=g(y),I=v(y,"LABEL",{for:!0});var oe=b(I);z=w(oe,"come up with a secure password:"),oe.forEach(c),F=g(y),E=v(y,"INPUT",{name:!0,id:!0,placeholder:!0,type:!0}),T=g(y),S=v(y,"P",{});var H=b(S);D=v(H,"ION-ICON",{class:!0,name:!0}),b(D).forEach(c),M=w(H,` By creating a 3ee Account, you
			automatically agree to our `),B=v(H,"A",{href:!0});var ne=b(B);Y=w(ne,"terms of service"),ne.forEach(c),K=w(H,"."),H.forEach(c),Z=g(y),q=v(y,"P",{});var ee=b(q);G=v(ee,"ION-ICON",{class:!0,name:!0}),b(G).forEach(c),Q=w(ee,` When creating your account, we may
			need to make sure you're a human. Don't worry, our captchas are fun.`),ee.forEach(c),X=g(y),L.l(y),y.forEach(c),this.h()},h(){m(s,"for","email"),m(t,"name","email"),m(t,"id","email"),m(t,"placeholder","enter your email address"),m(t,"type","email"),t.required="true",m(t,"class",o=h[6]?"validation-error":""),m(p,"for","username"),m(_,"name","username"),m(_,"id","username"),m(_,"placeholder","enter a username"),m(_,"type","text"),_.required="true",m(_,"class",j=h[6]?"validation-error":""),m(I,"for","password"),m(E,"name","password"),m(E,"id","password"),m(E,"placeholder","enter a secure password"),m(E,"type","password"),E.required="true",$(D,"class","shield-checkmark svelte-1ikjj47"),$(D,"name","shield-checkmark"),m(B,"href","/account/terms/"),$(G,"class","shield-checkmark svelte-1ikjj47"),$(G,"name","game-controller"),m(e,"class","svelte-1ikjj47")},m(k,y){O&&O.m(k,y),A(k,a,y),A(k,e,y),n(e,s),n(s,r),n(e,u),n(e,t),U(t,h[1]),n(e,l),n(e,p),n(p,i),n(e,f),n(e,_),U(_,h[2]),n(e,P),n(e,I),n(I,z),n(e,F),n(e,E),U(E,h[3]),n(e,T),n(e,S),n(S,D),n(S,M),n(S,B),n(B,Y),n(S,K),n(e,Z),n(e,q),n(q,G),n(q,Q),n(e,X),L.m(e,null),x||(te=[R(t,"input",h[8]),R(_,"input",h[9]),R(E,"input",h[10]),R(e,"submit",h[7])],x=!0)},p(k,y){k[6]?O||(O=ie(),O.c(),O.m(a.parentNode,a)):O&&(O.d(1),O=null),y&64&&o!==(o=k[6]?"validation-error":"")&&m(t,"class",o),y&2&&t.value!==k[1]&&U(t,k[1]),y&64&&j!==(j=k[6]?"validation-error":"")&&m(_,"class",j),y&4&&_.value!==k[2]&&U(_,k[2]),y&8&&E.value!==k[3]&&U(E,k[3]),J!==(J=ae(k))&&(L.d(1),L=J(k),L&&(L.c(),L.m(e,null)))},i:ce,o:ce,d(k){O&&O.d(k),k&&c(a),k&&c(e),L.d(),x=!1,Ce(te)}}}function Oe(h){let a,e;return a=new Ae({props:{game:h[0]}}),{c(){me(a.$$.fragment)},l(s){_e(a.$$.fragment,s)},m(s,r){de(a,s,r),e=!0},p(s,r){const u={};r&1&&(u.game=s[0]),a.$set(u)},i(s){e||(W(a.$$.fragment,s),e=!0)},o(s){V(a.$$.fragment,s),e=!1},d(s){ve(a,s)}}}function ie(h){let a,e,s,r,u,t,o,l;return{c(){a=d("p"),e=C("Your email or username are unavailable."),s=N(),r=d("p"),u=C("If you have an account, "),t=d("a"),o=C("login"),l=C(" now."),this.h()},l(p){a=v(p,"P",{class:!0});var i=b(a);e=w(i,"Your email or username are unavailable."),i.forEach(c),s=g(p),r=v(p,"P",{class:!0});var f=b(r);u=w(f,"If you have an account, "),t=v(f,"A",{href:!0});var _=b(t);o=w(_,"login"),_.forEach(c),l=w(f," now."),f.forEach(c),this.h()},h(){m(a,"class","error"),m(t,"href","/account/login/"),m(r,"class","error-description")},m(p,i){A(p,a,i),n(a,e),A(p,s,i),A(p,r,i),n(r,u),n(r,t),n(t,o),n(r,l)},d(p){p&&c(a),p&&c(s),p&&c(r)}}}function je(h){let a,e,s,r,u;return{c(){a=d("button"),e=d("ion-icon"),s=N(),r=d("span"),u=C("Create Account"),this.h()},l(t){a=v(t,"BUTTON",{class:!0});var o=b(a);e=v(o,"ION-ICON",{class:!0,name:!0}),b(e).forEach(c),s=g(o),r=v(o,"SPAN",{});var l=b(r);u=w(l,"Create Account"),l.forEach(c),o.forEach(c),this.h()},h(){$(e,"class","icon svelte-1ikjj47"),$(e,"name","rocket-sharp"),m(a,"class","svelte-1ikjj47")},m(t,o){A(t,a,o),n(a,e),n(a,s),n(a,r),n(r,u)},d(t){t&&c(a)}}}function Ie(h){let a,e,s,r,u,t,o,l,p;return{c(){a=d("p"),e=d("ion-icon"),s=C(" The captcha was not correct. Please try again."),r=N(),u=d("button"),t=d("ion-icon"),o=N(),l=d("span"),p=C("Try again"),this.h()},l(i){a=v(i,"P",{class:!0});var f=b(a);e=v(f,"ION-ICON",{class:!0,name:!0}),b(e).forEach(c),s=w(f," The captcha was not correct. Please try again."),f.forEach(c),r=g(i),u=v(i,"BUTTON",{class:!0});var _=b(u);t=v(_,"ION-ICON",{class:!0,name:!0}),b(t).forEach(c),o=g(_),l=v(_,"SPAN",{});var j=b(l);p=w(j,"Try again"),j.forEach(c),_.forEach(c),this.h()},h(){$(e,"class","shield-x"),$(e,"name","shield-x"),m(a,"class","error"),$(t,"class","icon svelte-1ikjj47"),$(t,"name","rocket-sharp"),m(u,"class","alert svelte-1ikjj47")},m(i,f){A(i,a,f),n(a,e),n(a,s),A(i,r,f),A(i,u,f),n(u,t),n(u,o),n(u,l),n(l,p)},d(i){i&&c(a),i&&c(r),i&&c(u)}}}function Pe(h){let a,e,s,r;const u=[Oe,ge],t=[];function o(l,p){return l[4]?0:1}return a=o(h),e=t[a]=u[a](h),{c(){e.c(),s=le()},l(l){e.l(l),s=le()},m(l,p){t[a].m(l,p),A(l,s,p),r=!0},p(l,[p]){let i=a;a=o(l),a===i?t[a].p(l,p):(ye(),V(t[i],1,1,()=>{t[i]=null}),be(),e=t[a],e?e.p(l,p):(e=t[a]=u[a](l),e.c()),W(e,1),e.m(s.parentNode,s))},i(l){r||(W(e),r=!0)},o(l){V(e),r=!1},d(l){t[a].d(l),l&&c(s)}}}function Te(h,a,e){let s=null,r="tester66@test.com",u="eeper45",t="test",o=!1,l=!1,p={},i=!1;const f=ke();Ee(async()=>{const E=await fetch("https://3ee.dev/captcha/start/",{method:"GET",mode:"cors"});e(0,s=await E.json()),window.addEventListener("message",function(T){const S=T.data,D=JSON.parse(S);e(4,o=!1),f("onCaptchaEvent",{showCaptcha:o}),D.message==="onPlayCaptchaEnd"&&D.success?_():j()})});async function _(){e(5,l=!1);const E=await fetch("https://3ee.dev/account/create/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify(p)});if(E.ok){const T=await E.json();ue.set(T),ue.useLocalStorage(),T.token&&(e(6,i=!1),f("createAccountSuccess"))}else E.statusText==="Internal Server Error"&&e(6,i=!0)}function j(){e(5,l=!0)}async function P(E){E.preventDefault(),o||(e(4,o=!0),f("onCaptchaEvent",{showCaptcha:o}));const T=new FormData(E.target);p=Object.fromEntries(T.entries())}function I(){r=this.value,e(1,r)}function z(){u=this.value,e(2,u)}function F(){t=this.value,e(3,t)}return[s,r,u,t,o,l,i,P,I,z,F]}class Se extends fe{constructor(a){super(),pe(this,a,Te,Pe,he,{})}}function $e(h){let a,e,s,r,u;return{c(){a=d("h1"),e=C("Create your Account"),s=N(),r=d("h2"),u=C("Ready for your adventure to begin? Get started by creating an account."),this.h()},l(t){a=v(t,"H1",{});var o=b(a);e=w(o,"Create your Account"),o.forEach(c),s=g(t),r=v(t,"H2",{class:!0});var l=b(r);u=w(l,"Ready for your adventure to begin? Get started by creating an account."),l.forEach(c),this.h()},h(){m(r,"class","svelte-1huk59n")},m(t,o){A(t,a,o),n(a,e),A(t,s,o),A(t,r,o),n(r,u)},d(t){t&&c(a),t&&c(s),t&&c(r)}}}function De(h){let a,e,s,r,u;return{c(){a=d("h1"),e=C("Are you human?"),s=N(),r=d("h2"),u=C("Please solve the Captcha Puzzle to continue."),this.h()},l(t){a=v(t,"H1",{});var o=b(a);e=w(o,"Are you human?"),o.forEach(c),s=g(t),r=v(t,"H2",{class:!0});var l=b(r);u=w(l,"Please solve the Captcha Puzzle to continue."),l.forEach(c),this.h()},h(){m(r,"class","svelte-1huk59n")},m(t,o){A(t,a,o),n(a,e),A(t,s,o),A(t,r,o),n(r,u)},d(t){t&&c(a),t&&c(s),t&&c(r)}}}function Le(h){let a,e,s,r,u,t,o;function l(f,_){return f[0]?De:$e}let p=l(h),i=p(h);return t=new Se({}),t.$on("createAccountSuccess",h[1]),t.$on("onCaptchaEvent",h[2]),{c(){a=N(),e=d("section"),s=d("div"),r=d("div"),i.c(),u=N(),me(t.$$.fragment),this.h()},l(f){we('[data-svelte="svelte-qohrfk"]',document.head).forEach(c),a=g(f),e=v(f,"SECTION",{class:!0});var j=b(e);s=v(j,"DIV",{class:!0});var P=b(s);r=v(P,"DIV",{class:!0});var I=b(r);i.l(I),I.forEach(c),u=g(P),_e(t.$$.fragment,P),P.forEach(c),j.forEach(c),this.h()},h(){document.title="Create your Account",m(r,"class","promo"),m(s,"class","content"),m(e,"class","background")},m(f,_){A(f,a,_),A(f,e,_),n(e,s),n(s,r),i.m(r,null),n(s,u),de(t,s,null),o=!0},p(f,[_]){p!==(p=l(f))&&(i.d(1),i=p(f),i&&(i.c(),i.m(r,null)))},i(f){o||(W(t.$$.fragment,f),o=!0)},o(f){V(t.$$.fragment,f),o=!1},d(f){f&&c(a),f&&c(e),i.d(),ve(t)}}}function Be(h,a,e){let s,r=!1;function u(o){Ne("/account/login/")}function t(o){e(3,r=o.detail.showCaptcha)}return h.$$.update=()=>{h.$$.dirty&8&&e(0,s=r)},[s,u,t,r]}class Je extends fe{constructor(a){super(),pe(this,a,Be,Le,he,{})}}export{Je as default};
