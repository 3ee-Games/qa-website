import{S as z,i as J,s as K,e as u,t as $,k as S,c as f,a as d,h as q,d as t,m as C,b as E,J as T,g as j,K as e,L as H,E as P,G as R,a0 as Z,w as F,Z as M,x as Q,y as W,q as X,o as ee,B as te}from"../../../chunks/index-506650de.js";import{d as oe,b as se}from"../../../chunks/env-859c48a7.js";import{a as D}from"../../../chunks/accountStore-cc5ca2b2.js";import{g as ae}from"../../../chunks/navigation-0e6511d1.js";import"../../../chunks/index-10b1f58e.js";import"../../../chunks/singletons-d1fb5791.js";function Y(N){let o,s,n,l,p,_,y,b,m,h,i,I,c,k,A;return{c(){o=u("div"),s=u("p"),n=$("Unable to logout your account."),l=S(),p=u("ol"),_=u("li"),y=u("ion-icon"),b=$(`This error usually never happens unless our
				services are down.`),m=S(),h=u("li"),i=u("ion-icon"),I=$(`If you keep receiving this error, please
				`),c=u("a"),k=$("contact us"),A=$("."),this.h()},l(a){o=f(a,"DIV",{class:!0});var r=d(o);s=f(r,"P",{class:!0});var g=d(s);n=q(g,"Unable to logout your account."),g.forEach(t),l=C(r),p=f(r,"OL",{class:!0});var v=d(p);_=f(v,"LI",{class:!0});var w=d(_);y=f(w,"ION-ICON",{class:!0,name:!0}),d(y).forEach(t),b=q(w,`This error usually never happens unless our
				services are down.`),w.forEach(t),m=C(v),h=f(v,"LI",{class:!0});var L=d(h);i=f(L,"ION-ICON",{class:!0,name:!0}),d(i).forEach(t),I=q(L,`If you keep receiving this error, please
				`),c=f(L,"A",{href:!0});var O=d(c);k=q(O,"contact us"),O.forEach(t),A=q(L,"."),L.forEach(t),v.forEach(t),r.forEach(t),this.h()},h(){E(s,"class","error"),T(y,"class","error-icon svelte-1buvqgc"),T(y,"name","bug-sharp"),E(_,"class","svelte-1buvqgc"),T(i,"class","error-icon svelte-1buvqgc"),T(i,"name","mail-sharp"),E(c,"href","/contact"),E(h,"class","svelte-1buvqgc"),E(p,"class","error-description svelte-1buvqgc"),E(o,"class","error-container svelte-1buvqgc")},m(a,r){j(a,o,r),e(o,s),e(s,n),e(o,l),e(o,p),e(p,_),e(_,y),e(_,b),e(p,m),e(p,h),e(h,i),e(h,I),e(h,c),e(c,k),e(h,A)},d(a){a&&t(o)}}}function ne(N){let o,s,n,l,p,_,y,b,m,h,i,I,c,k,A,a=N[0]&&Y();return{c(){a&&a.c(),o=S(),s=u("div"),n=u("button"),l=u("ion-icon"),p=S(),_=u("span"),y=$("Yes"),b=S(),m=u("button"),h=u("ion-icon"),i=S(),I=u("span"),c=$("Oops"),this.h()},l(r){a&&a.l(r),o=C(r),s=f(r,"DIV",{class:!0});var g=d(s);n=f(g,"BUTTON",{class:!0});var v=d(n);l=f(v,"ION-ICON",{class:!0,name:!0}),d(l).forEach(t),p=C(v),_=f(v,"SPAN",{});var w=d(_);y=q(w,"Yes"),w.forEach(t),v.forEach(t),b=C(g),m=f(g,"BUTTON",{class:!0});var L=d(m);h=f(L,"ION-ICON",{class:!0,name:!0}),d(h).forEach(t),i=C(L),I=f(L,"SPAN",{});var O=d(I);c=q(O,"Oops"),O.forEach(t),L.forEach(t),g.forEach(t),this.h()},h(){T(l,"class","icon svelte-1buvqgc"),T(l,"name","exit-sharp"),E(n,"class","svelte-1buvqgc"),T(h,"class","icon svelte-1buvqgc"),T(h,"name","close-circle"),E(m,"class","alert svelte-1buvqgc"),E(s,"class","action-buttons svelte-1buvqgc")},m(r,g){a&&a.m(r,g),j(r,o,g),j(r,s,g),e(s,n),e(n,l),e(n,p),e(n,_),e(_,y),e(s,b),e(s,m),e(m,h),e(m,i),e(m,I),e(I,c),k||(A=[H(n,"click",N[1]),H(m,"click",N[2])],k=!0)},p(r,[g]){r[0]?a||(a=Y(),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},i:P,o:P,d(r){a&&a.d(r),r&&t(o),r&&t(s),k=!1,R(A)}}}function ce(N,o,s){const n=Z();let l=!1,p;D.subscribe(i=>{p=i});function _(){D.set({}),D.deleteLocalStorage(),s(0,l=!1),n("logoutSuccess")}const y=p.token,b=async i=>{const c=await(await fetch("https://3ee.dev/account/logout/",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+y},mode:"cors"})).json();if(typeof(c==null?void 0:c.success)!="undefined"&&c.success){_();return}m()};function m(){s(0,l=!0),D.set({}),D.deleteLocalStorage()}function h(){n("cancelLogout")}return[l,b,h]}class re extends z{constructor(o){super(),J(this,o,ce,ne,K,{})}}function le(N){let o,s,n,l,p,_,y,b,m,h,i,I,c,k,A,a,r,g;return i=new re({}),i.$on("logoutSuccess",N[0]),i.$on("cancelLogout",ie),{c(){o=S(),s=u("section"),n=u("div"),l=u("div"),p=u("h1"),_=$("Logout Account"),y=S(),b=u("h2"),m=$("Are you ready to logout?"),h=S(),F(i.$$.fragment),I=S(),c=u("p"),k=u("ion-icon"),A=$(`Did you
			`),a=u("a"),r=$("forget your password?"),this.h()},l(v){M('[data-svelte="svelte-1jjmt91"]',document.head).forEach(t),o=C(v),s=f(v,"SECTION",{class:!0});var L=d(s);n=f(L,"DIV",{class:!0});var O=d(n);l=f(O,"DIV",{class:!0});var x=d(l);p=f(x,"H1",{});var U=d(p);_=q(U,"Logout Account"),U.forEach(t),y=C(x),b=f(x,"H2",{class:!0});var B=d(b);m=q(B,"Are you ready to logout?"),B.forEach(t),x.forEach(t),h=C(O),Q(i.$$.fragment,O),I=C(O),c=f(O,"P",{class:!0});var V=d(c);k=f(V,"ION-ICON",{class:!0,name:!0}),d(k).forEach(t),A=q(V,`Did you
			`),a=f(V,"A",{href:!0});var G=d(a);r=q(G,"forget your password?"),G.forEach(t),V.forEach(t),O.forEach(t),L.forEach(t),this.h()},h(){document.title="Logout Account",E(b,"class","svelte-1yjkc6a"),E(l,"class","promo"),T(k,"class","shield-checkmark svelte-1yjkc6a"),T(k,"name","key"),E(a,"href","/account"),E(c,"class","forget-password svelte-1yjkc6a"),E(n,"class","content"),E(s,"class","background")},m(v,w){j(v,o,w),j(v,s,w),e(s,n),e(n,l),e(l,p),e(p,_),e(l,y),e(l,b),e(b,m),e(n,h),W(i,n,null),e(n,I),e(n,c),e(c,k),e(c,A),e(c,a),e(a,r),g=!0},p:P,i(v){g||(X(i.$$.fragment,v),g=!0)},o(v){ee(i.$$.fragment,v),g=!1},d(v){v&&t(o),v&&t(s),te(i)}}}const me=oe,ge=se,ye=!0;function ie(N){typeof history!="undefined"&&history.back()}function ue(N){function o(s){ae("/")}return[o]}class be extends z{constructor(o){super(),J(this,o,ue,le,K,{})}}export{be as default,me as hydrate,ye as prerender,ge as router};
