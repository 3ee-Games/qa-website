import{S as z,i as J,s as K,e as i,t as $,k as w,c as f,a as d,h as q,d as t,m as C,b as E,J as T,g as j,K as e,L as H,E as P,G as R,a0 as Z,w as F,Z as M,x as Q,y as W,q as X,o as ee,B as te}from"../../../chunks/index-506650de.js";import{d as oe,b as se}from"../../../chunks/env-859c48a7.js";import{a as D}from"../../../chunks/accountStore-c7e0df4d.js";import{g as ae}from"../../../chunks/navigation-0e6511d1.js";import"../../../chunks/index-10b1f58e.js";import"../../../chunks/singletons-d1fb5791.js";function Y(N){let o,s,n,l,p,_,y,b,m,v,u,I,c,L,A;return{c(){o=i("div"),s=i("p"),n=$("Unable to logout your account."),l=w(),p=i("ol"),_=i("li"),y=i("ion-icon"),b=$(`This error usually never happens unless our
				services are down.`),m=w(),v=i("li"),u=i("ion-icon"),I=$(`If you keep receiving this error, please
				`),c=i("a"),L=$("contact us"),A=$("."),this.h()},l(a){o=f(a,"DIV",{class:!0});var r=d(o);s=f(r,"P",{class:!0});var g=d(s);n=q(g,"Unable to logout your account."),g.forEach(t),l=C(r),p=f(r,"OL",{class:!0});var h=d(p);_=f(h,"LI",{class:!0});var S=d(_);y=f(S,"ION-ICON",{class:!0,name:!0}),d(y).forEach(t),b=q(S,`This error usually never happens unless our
				services are down.`),S.forEach(t),m=C(h),v=f(h,"LI",{class:!0});var k=d(v);u=f(k,"ION-ICON",{class:!0,name:!0}),d(u).forEach(t),I=q(k,`If you keep receiving this error, please
				`),c=f(k,"A",{href:!0});var O=d(c);L=q(O,"contact us"),O.forEach(t),A=q(k,"."),k.forEach(t),h.forEach(t),r.forEach(t),this.h()},h(){E(s,"class","error"),T(y,"class","error-icon svelte-1buvqgc"),T(y,"name","bug-sharp"),E(_,"class","svelte-1buvqgc"),T(u,"class","error-icon svelte-1buvqgc"),T(u,"name","mail-sharp"),E(c,"href","/contact"),E(v,"class","svelte-1buvqgc"),E(p,"class","error-description svelte-1buvqgc"),E(o,"class","error-container svelte-1buvqgc")},m(a,r){j(a,o,r),e(o,s),e(s,n),e(o,l),e(o,p),e(p,_),e(_,y),e(_,b),e(p,m),e(p,v),e(v,u),e(v,I),e(v,c),e(c,L),e(v,A)},d(a){a&&t(o)}}}function ne(N){let o,s,n,l,p,_,y,b,m,v,u,I,c,L,A,a=N[0]&&Y();return{c(){a&&a.c(),o=w(),s=i("div"),n=i("button"),l=i("ion-icon"),p=w(),_=i("span"),y=$("Yes"),b=w(),m=i("button"),v=i("ion-icon"),u=w(),I=i("span"),c=$("Oops"),this.h()},l(r){a&&a.l(r),o=C(r),s=f(r,"DIV",{class:!0});var g=d(s);n=f(g,"BUTTON",{class:!0});var h=d(n);l=f(h,"ION-ICON",{class:!0,name:!0}),d(l).forEach(t),p=C(h),_=f(h,"SPAN",{});var S=d(_);y=q(S,"Yes"),S.forEach(t),h.forEach(t),b=C(g),m=f(g,"BUTTON",{class:!0});var k=d(m);v=f(k,"ION-ICON",{class:!0,name:!0}),d(v).forEach(t),u=C(k),I=f(k,"SPAN",{});var O=d(I);c=q(O,"Oops"),O.forEach(t),k.forEach(t),g.forEach(t),this.h()},h(){T(l,"class","icon svelte-1buvqgc"),T(l,"name","create"),E(n,"class","svelte-1buvqgc"),T(v,"class","icon svelte-1buvqgc"),T(v,"name","close-circle"),E(m,"class","alert svelte-1buvqgc"),E(s,"class","action-buttons svelte-1buvqgc")},m(r,g){a&&a.m(r,g),j(r,o,g),j(r,s,g),e(s,n),e(n,l),e(n,p),e(n,_),e(_,y),e(s,b),e(s,m),e(m,v),e(m,u),e(m,I),e(I,c),L||(A=[H(n,"click",N[1]),H(m,"click",N[2])],L=!0)},p(r,[g]){r[0]?a||(a=Y(),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},i:P,o:P,d(r){a&&a.d(r),r&&t(o),r&&t(s),L=!1,R(A)}}}function ce(N,o,s){const n=Z();let l=!1,p;D.useLocalStorage(),D.subscribe(u=>{p=u});function _(){D.set({}),D.deleteLocalStorage(),s(0,l=!1),n("logoutSuccess")}const y=p.token,b=async u=>{const c=await(await fetch("https://3ee.dev/account/logout/",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Token "+y},mode:"cors"})).json();if(typeof(c==null?void 0:c.success)!="undefined"&&c.success){_();return}m()};function m(){s(0,l=!0),D.set({}),D.deleteLocalStorage()}function v(){n("cancelLogout")}return[l,b,v]}class re extends z{constructor(o){super(),J(this,o,ce,ne,K,{})}}function le(N){let o,s,n,l,p,_,y,b,m,v,u,I,c,L,A,a,r,g;return u=new re({}),u.$on("logoutSuccess",N[0]),u.$on("cancelLogout",ue),{c(){o=w(),s=i("section"),n=i("div"),l=i("div"),p=i("h1"),_=$("Logout Account"),y=w(),b=i("h2"),m=$("Are you ready to logout?"),v=w(),F(u.$$.fragment),I=w(),c=i("p"),L=i("ion-icon"),A=$(`Did you
			`),a=i("a"),r=$("forget your password?"),this.h()},l(h){M('[data-svelte="svelte-1jjmt91"]',document.head).forEach(t),o=C(h),s=f(h,"SECTION",{class:!0});var k=d(s);n=f(k,"DIV",{class:!0});var O=d(n);l=f(O,"DIV",{class:!0});var x=d(l);p=f(x,"H1",{});var U=d(p);_=q(U,"Logout Account"),U.forEach(t),y=C(x),b=f(x,"H2",{class:!0});var B=d(b);m=q(B,"Are you ready to logout?"),B.forEach(t),x.forEach(t),v=C(O),Q(u.$$.fragment,O),I=C(O),c=f(O,"P",{class:!0});var V=d(c);L=f(V,"ION-ICON",{class:!0,name:!0}),d(L).forEach(t),A=q(V,`Did you
			`),a=f(V,"A",{href:!0});var G=d(a);r=q(G,"forget your password?"),G.forEach(t),V.forEach(t),O.forEach(t),k.forEach(t),this.h()},h(){document.title="Logout Account",E(b,"class","svelte-1yjkc6a"),E(l,"class","promo"),T(L,"class","shield-checkmark svelte-1yjkc6a"),T(L,"name","key"),E(a,"href","/account"),E(c,"class","forget-password svelte-1yjkc6a"),E(n,"class","content"),E(s,"class","background")},m(h,S){j(h,o,S),j(h,s,S),e(s,n),e(n,l),e(l,p),e(p,_),e(l,y),e(l,b),e(b,m),e(n,v),W(u,n,null),e(n,I),e(n,c),e(c,L),e(c,A),e(c,a),e(a,r),g=!0},p:P,i(h){g||(X(u.$$.fragment,h),g=!0)},o(h){ee(u.$$.fragment,h),g=!1},d(h){h&&t(o),h&&t(s),te(u)}}}const me=oe,ge=se,ye=!0;function ue(N){typeof history!="undefined"&&history.back()}function ie(N){function o(s){ae("/")}return[o]}class be extends z{constructor(o){super(),J(this,o,ie,le,K,{})}}export{be as default,me as hydrate,ye as prerender,ge as router};
